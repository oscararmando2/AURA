<!DOCTYPE html><html lang="es"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>AURA STUDIO - Pilates a tu medida</title><link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon-180x180.png"><link rel="apple-touch-icon" sizes="167x167" href="apple-touch-icon-167x167.png"><link rel="apple-touch-icon" sizes="152x152" href="apple-touch-icon-152x152.png"><link rel="apple-touch-icon" sizes="144x144" href="apple-touch-icon-144x144.png"><link rel="apple-touch-icon" sizes="120x120" href="apple-touch-icon-120x120.png"><link rel="apple-touch-icon" sizes="114x114" href="apple-touch-icon-114x114.png"><link rel="apple-touch-icon" sizes="76x76" href="apple-touch-icon-76x76.png"><link rel="apple-touch-icon" sizes="72x72" href="apple-touch-icon-72x72.png"><link rel="apple-touch-icon" sizes="60x60" href="apple-touch-icon-60x60.png"><link rel="apple-touch-icon" sizes="57x57" href="apple-touch-icon-57x57.png"><link rel="apple-touch-icon" href="apple-touch-icon.png"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Amita:wght@400;700&display=swap" rel="stylesheet"><link href="https://fonts.googleapis.com/css2?family=Fondamento:ital@0;1&display=swap" rel="stylesheet"><link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.css" rel="stylesheet"> <script src="https://sdk.mercadopago.com/js/v2"></script> <script type="module">// Firebase imports will be handled in the script section</script> <style>* { margin: 0; padding: 0; box-sizing: border-box; } body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; background-color: #ffffff; scroll-behavior: smooth; } body.modal-open { overflow: hidden; position: fixed; width: 100%; } /* ========== Page Loader ========== */ #page-loader { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(to bottom, #0a0e27 0%, #1a1a2e 50%, #16213e 100%); display: flex; justify-content: center; align-items: center; z-index: 9999; opacity: 1; transition: opacity 0.5s ease-out; overflow: hidden; } #page-loader.fade-out { opacity: 0; pointer-events: none; } .loader-content { width: 300px; height: 300px; position: relative; display: flex; justify-content: center; align-items: center; z-index: 2; } .loader-content .planet { width: 65%; height: 65%; background: radial-gradient(circle at 30% 30%, #e8e8e8, #a0a0a0 50%, #707070 100%); border-radius: 100%; position: absolute; display: flex; align-items: center; transform-origin: center center; box-shadow: inset -15px -15px 40px rgba(0, 0, 0, 0.4), inset 8px 8px 20px rgba(255, 255, 255, 0.1), 0 0 40px rgba(255, 255, 255, 0.1); animation: planet 5s ease infinite alternate; } @keyframes planet { 0% { transform: rotate(10deg); } 100% { transform: rotate(-10deg); } } .loader-content .planet .spots { width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; position: absolute; z-index: 2; } .loader-content .planet .spots span { width: 30px; height: 30px; background: radial-gradient(circle, #909090, #606060); position: absolute; border-radius: 100%; box-shadow: inset -3px 3px 8px rgba(0, 0, 0, 0.5); animation: dots 5s ease infinite alternate; } @keyframes dots { 0% { box-shadow: inset -4px 4px 8px rgba(0, 0, 0, 0.5); } 100% { box-shadow: inset 4px 4px 8px rgba(0, 0, 0, 0.5); } } .loader-content .planet .spots span:nth-child(1) { top: 20px; right: 50px; } .loader-content .planet .spots span:nth-child(2) { top: 40px; left: 50px; width: 15px; height: 15px; } .loader-content .planet .spots span:nth-child(3) { top: 80px; left: 20px; width: 25px; height: 25px; } .loader-content .planet .spots span:nth-child(4) { top: 80px; left: 90px; width: 40px; height: 40px; } .loader-content .planet .spots span:nth-child(5) { top: 160px; left: 70px; width: 15px; height: 15px; } .loader-content .planet .spots span:nth-child(6) { top: 165px; left: 125px; width: 10px; height: 10px; } .loader-content .planet .spots span:nth-child(7) { top: 90px; left: 150px; width: 15px; height: 15px; } .loader-content p { color: #ffffff; font-size: 14px; z-index: 2; position: absolute; bottom: -20px; font-family: "Roboto Mono", monospace; animation: text 4s ease infinite; width: 100px; text-align: center; text-shadow: 0 0 10px rgba(255, 255, 255, 0.5); } @keyframes text { 0% { transform: translateX(-30px); letter-spacing: 0px; color: #ffffff; } 25% { letter-spacing: 3px; color: #e0e0e0; } 50% { transform: translateX(30px); letter-spacing: 0px; color: #ffffff; } 75% { letter-spacing: 3px; color: #e0e0e0; } 100% { transform: translateX(-30px); letter-spacing: 0px; color: #ffffff; } } /* Stars background effect */ #page-loader::before, #page-loader::after { content: ''; position: absolute; width: 100%; height: 100%; top: 0; left: 0; z-index: 0; } #page-loader::before { background-image: radial-gradient(2px 2px at 20% 30%, white, transparent), radial-gradient(2px 2px at 60% 70%, white, transparent), radial-gradient(1px 1px at 50% 50%, white, transparent), radial-gradient(1px 1px at 80% 10%, white, transparent), radial-gradient(2px 2px at 90% 60%, white, transparent), radial-gradient(1px 1px at 33% 70%, white, transparent), radial-gradient(1px 1px at 79% 80%, white, transparent), radial-gradient(1px 1px at 15% 90%, white, transparent), radial-gradient(2px 2px at 35% 45%, white, transparent), radial-gradient(1px 1px at 10% 20%, white, transparent), radial-gradient(1px 1px at 70% 35%, white, transparent), radial-gradient(2px 2px at 25% 85%, white, transparent), radial-gradient(1px 1px at 88% 40%, white, transparent), radial-gradient(1px 1px at 42% 15%, white, transparent); background-size: 200% 200%; animation: stars 3s ease-in-out infinite alternate; } #page-loader::after { background-image: radial-gradient(1px 1px at 40% 60%, rgba(255, 255, 255, 0.8), transparent), radial-gradient(1px 1px at 75% 25%, rgba(255, 255, 255, 0.8), transparent), radial-gradient(1px 1px at 22% 80%, rgba(255, 255, 255, 0.8), transparent), radial-gradient(2px 2px at 65% 90%, rgba(255, 255, 255, 0.8), transparent), radial-gradient(1px 1px at 12% 45%, rgba(255, 255, 255, 0.8), transparent), radial-gradient(1px 1px at 95% 70%, rgba(255, 255, 255, 0.8), transparent), radial-gradient(1px 1px at 55% 30%, rgba(255, 255, 255, 0.8), transparent), radial-gradient(1px 1px at 30% 10%, rgba(255, 255, 255, 0.8), transparent), radial-gradient(2px 2px at 85% 50%, rgba(255, 255, 255, 0.8), transparent), radial-gradient(1px 1px at 48% 75%, rgba(255, 255, 255, 0.8), transparent); background-size: 250% 250%; animation: stars 4s ease-in-out infinite alternate-reverse; } @keyframes stars { 0% { opacity: 0.6; transform: scale(1); } 50% { opacity: 1; } 100% { opacity: 0.7; transform: scale(1.02); } } /* Responsive adjustments for mobile */ @media (max-width: 768px) { .loader-content { width: 250px; height: 250px; } /* Make moon bigger on tablet */ .loader-content .planet { width: 75%; height: 75%; } /* Adjust spot positions for tablet to stay within moon */ .loader-content .planet .spots span:nth-child(1) { top: 18px; right: 45px; } .loader-content .planet .spots span:nth-child(2) { top: 35px; left: 45px; } .loader-content .planet .spots span:nth-child(3) { top: 70px; left: 18px; } .loader-content .planet .spots span:nth-child(4) { top: 75px; left: 80px; } .loader-content .planet .spots span:nth-child(5) { top: 140px; left: 60px; } .loader-content .planet .spots span:nth-child(6) { top: 143px; left: 110px; } .loader-content .planet .spots span:nth-child(7) { top: 85px; left: 135px; } .loader-content p { font-size: 12px; width: 90px; bottom: -40px; /* Move text lower */ } } @media (max-width: 480px) { .loader-content { width: 240px; height: 240px; } /* Make moon bigger on mobile */ .loader-content .planet { width: 80%; height: 80%; } /* Adjust spot positions to stay within moon boundaries */ .loader-content .planet .spots span:nth-child(1) { top: 15px; right: 35px; width: 18px; height: 18px; } .loader-content .planet .spots span:nth-child(2) { top: 30px; left: 30px; width: 10px; height: 10px; } .loader-content .planet .spots span:nth-child(3) { top: 60px; left: 15px; width: 18px; height: 18px; } .loader-content .planet .spots span:nth-child(4) { top: 65px; left: 70px; width: 28px; height: 28px; } .loader-content .planet .spots span:nth-child(5) { top: 125px; left: 50px; width: 10px; height: 10px; } .loader-content .planet .spots span:nth-child(6) { top: 128px; left: 95px; width: 8px; height: 8px; } .loader-content .planet .spots span:nth-child(7) { top: 75px; left: 120px; width: 12px; height: 12px; } .loader-content p { font-size: 11px; width: 80px; bottom: -50px; /* Move text lower on mobile */ } } /* ========== Animations ========== */ @keyframes fadeInUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } } @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } } @keyframes slideInLeft { from { opacity: 0; transform: translateX(-50px); } to { opacity: 1; transform: translateX(0); } } @keyframes slideInRight { from { opacity: 0; transform: translateX(50px); } to { opacity: 1; transform: translateX(0); } } @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } } @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } } /* ========== Button Shine Effect - REMOVED ========== */ /* Shine effect removed per user request */ /* ========== Header Section ========== */ .site-header { position: fixed; top: 0; left: 0; width: 100%; background-color: #ffffff; padding: 0 10px; box-shadow: none; z-index: 900; display: flex; align-items: center; justify-content: center; height: 80px; } .site-header .logo { height: 60px; width: auto; max-width: 200px; margin: 0; object-fit: contain; } /* ========== Hamburger Menu Container ========== */ #hamburger-container { position: fixed; top: 0; right: 20px; height: 80px; z-index: 1000; display: flex; align-items: center; justify-content: center; } #hamburger-btn { background: transparent; border: none; padding: 10px; cursor: pointer; display: flex; flex-direction: column; justify-content: center; align-items: center; } #hamburger-btn .hamburger-line { width: 28px; height: 2.5px; background-color: #000000; margin: 5px 0; border-radius: 2px; transition: all 0.3s ease; } /* ========== 1. Welcome Section (Hero Section) ========== */ .hero-section { height: 100vh; background: linear-gradient(135deg, #ffffff 0%, #EFE9E1 50%, #EFE9E1 100%); position: relative; display: flex; align-items: center; justify-content: center; overflow: hidden; } /* Video background */ .hero-video-background { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; z-index: 0; /* Hide native video controls and play button */ pointer-events: none; } /* Hide all video controls across browsers */ .hero-video-background::-webkit-media-controls { display: none !important; } .hero-video-background::-webkit-media-controls-enclosure { display: none !important; } .hero-video-background::-webkit-media-controls-panel { display: none !important; } .hero-video-background::-webkit-media-controls-play-button { display: none !important; } .hero-video-background::-webkit-media-controls-start-playback-button { display: none !important; } .hero-video-background::-webkit-media-controls-overlay-play-button { display: none !important; } /* Firefox */ .hero-video-background::-moz-media-controls { display: none !important; } /* Overlay for better text readability */ .hero-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(135deg, rgba(255, 255, 255, 0.4) 0%, rgba(239, 233, 225, 0.4) 50%, rgba(239, 233, 225, 0.4) 100%); z-index: 1; } .hero-section::before { content: ''; position: absolute; width: 500px; height: 500px; background: radial-gradient(circle, rgba(239, 233, 225, 0.3) 0%, transparent 70%); border-radius: 50%; top: -100px; right: -100px; animation: float 6s ease-in-out infinite; z-index: 1; } .hero-section::after { content: ''; position: absolute; width: 400px; height: 400px; background: radial-gradient(circle, rgba(239, 233, 225, 0.2) 0%, transparent 70%); border-radius: 50%; bottom: -50px; left: -50px; animation: float 8s ease-in-out infinite; animation-delay: 1s; z-index: 1; } .hero-content { position: relative; z-index: 2; text-align: center; color: #333; padding: 20px; animation: fadeInUp 1s ease-out; } .hero-content h1 { font-family: 'Amita', serif; font-size: 4rem; font-weight: 400; text-transform: none; margin-bottom: 5px; letter-spacing: 2px; color: #ffffff; text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.3), 0 0 20px rgba(255, 255, 255, 0.8); animation: fadeInUp 1s ease-out 0.2s both; } .hero-content h2 { font-family: 'Amita', serif; font-size: 3rem; margin-bottom: 20px; font-weight: 400; color: #ffffff; text-shadow: 1px 1px 4px rgba(255, 255, 255, 0.9), 0 0 10px rgba(255, 255, 255, 0.6); animation: fadeInUp 1s ease-out 0.4s both; } .hero-content p { font-size: 1.5rem; margin-bottom: 40px; color: #555; text-shadow: 1px 1px 3px rgba(255, 255, 255, 0.9), 0 0 8px rgba(255, 255, 255, 0.5); animation: fadeInUp 1s ease-out 0.6s both; } .hero-btn { position: relative; background: #EFE9E1; color: #000; padding: 18px 40px; border: 1px solid #ccc; font-size: 1.2rem; cursor: pointer; text-decoration: none; display: inline-block; animation: fadeInUp 1s ease-out 0.8s both; } .hero-btn:hover { background: #EFE9E1; } .hero-btn:active { background: #EFE9E1; } /* ========== 2. About Section (Pilates Studio Cards) ========== */ .about-section { background-color: #ffffff; padding: 80px 20px; position: relative; } .about-section::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(180deg, transparent 0%, #EFE9E1 50%, transparent 100%); pointer-events: none; } .about-section h2 { font-size: 3rem; color: #333; text-align: center; margin-bottom: 20px; font-weight: 300; letter-spacing: 2px; animation: fadeInUp 0.8s ease-out; } .about-section h2::after { content: ''; display: block; width: 80px; height: 3px; background: linear-gradient(90deg, #EFE9E1, #EFE9E1); margin: 20px auto 40px; border-radius: 2px; } .pilates-cards-container { display: flex; gap: 25px; overflow-x: auto; padding: 20px; max-width: 1200px; margin: 0 auto; scroll-behavior: smooth; scroll-snap-type: x mandatory; } .pilates-cards-container::-webkit-scrollbar { height: 10px; } .pilates-cards-container::-webkit-scrollbar-track { background: rgba(239, 233, 225, 0.1); border-radius: 10px; } .pilates-cards-container::-webkit-scrollbar-thumb { background: linear-gradient(90deg, #EFE9E1, #EFE9E1); border-radius: 10px; transition: background 0.3s ease; } .pilates-cards-container::-webkit-scrollbar-thumb:hover { background: linear-gradient(90deg, #EFE9E1, #EFE9E1); } .pilates-card { position: relative; width: 500px; height: 600px; flex-shrink: 0; border-radius: 25px; overflow: hidden; box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15); transition: all 0.4s ease; cursor: pointer; scroll-snap-align: center; } .pilates-card:hover { transform: translateY(-8px) scale(1.02); box-shadow: 0 20px 50px rgba(239, 233, 225, 0.5); } .pilates-card-image { width: 100%; height: 100%; object-fit: cover; transition: all 0.4s ease; animation: cardImageDarken 3.5s ease-in-out forwards; } @keyframes cardImageDarken { 0% { filter: brightness(1); } 100% { filter: brightness(0.85); } } .pilates-card.active .pilates-card-image { filter: brightness(0.85); } .pilates-card-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255, 255, 255, 0.3); display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 40px; opacity: 0; transition: opacity 0.4s ease; pointer-events: none; overflow-y: auto; animation: overlayFadeIn 3.5s ease-in-out forwards; } @keyframes overlayFadeIn { 0% { opacity: 0; } 85.7% { opacity: 0; } 100% { opacity: 1; pointer-events: auto; } } .pilates-card.active .pilates-card-overlay { opacity: 1; pointer-events: auto; } .pilates-card-title { font-size: 2.5rem; font-weight: 700; color: #333333; margin-bottom: 25px; text-align: center; font-family: 'Amita', serif; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2); } .pilates-card-text { font-size: 1.2rem; color: #333333; line-height: 1.9; text-align: center; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2); } /* Responsive adjustments for mobile - LARGE images */ @media (max-width: 768px) { .pilates-cards-container { padding: 15px 10px; gap: 20px; } .pilates-card { width: calc(100vw - 40px); height: calc(100vh - 200px); min-height: 500px; } .pilates-card-title { font-size: 2rem; } .pilates-card-text { font-size: 1.1rem; line-height: 1.8; } .pilates-card-overlay { padding: 30px 25px; } } @media (max-width: 480px) { .pilates-card { width: calc(100vw - 30px); height: calc(100vh - 180px); min-height: 480px; } .pilates-card-title { font-size: 1.8rem; } .pilates-card-text { font-size: 1.05rem; line-height: 1.7; } .pilates-card-overlay { padding: 25px 20px; } } /* ========== 3. Booking Section ========== */ .booking-section { background: #ffffff; padding: 80px 20px; } .booking-container { max-width: 1200px; margin: 0 auto; } .booking-section h2 { font-size: 3rem; color: #333; text-align: center; margin-bottom: 20px; font-weight: 300; letter-spacing: 2px; animation: fadeInUp 0.8s ease-out; } .booking-section h2::after { content: ''; display: block; width: 80px; height: 3px; background: linear-gradient(90deg, #EFE9E1, #EFE9E1); margin: 20px auto; border-radius: 2px; } .plans-grid { display: flex; flex-wrap: wrap; gap: 25px; justify-content: center; margin-bottom: 50px; margin-top: 50px; } .plan-card { background: linear-gradient(135deg, #ffffff 0%, #EFE9E1 100%); border-radius: 20px; padding: 35px 25px; width: 220px; text-align: center; box-shadow: 0 5px 25px rgba(0, 0, 0, 0.08); border: 2px solid rgba(239, 233, 225, 0.3); transition: all 0.4s ease; opacity: 0; animation: fadeInUp 0.6s ease-out forwards; position: relative; overflow: hidden; } .plan-card::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(135deg, rgba(239, 233, 225, 0.1) 0%, transparent 100%); opacity: 0; transition: opacity 0.4s ease; } .plan-card:hover::before { opacity: 1; } .plan-card:nth-child(1) { animation-delay: 0.1s; } .plan-card:nth-child(2) { animation-delay: 0.2s; } .plan-card:nth-child(3) { animation-delay: 0.3s; } .plan-card:nth-child(4) { animation-delay: 0.4s; } .plan-card:nth-child(5) { animation-delay: 0.5s; } .plan-card:hover { transform: translateY(-10px) scale(1.03); box-shadow: 0 15px 40px rgba(239, 233, 225, 0.4); border-color: #EFE9E1; } .plan-card h3 { color: #000000; font-size: 1.6rem; margin-bottom: 20px; font-weight: 500; position: relative; z-index: 3; } .plan-card .price { color: #333; font-size: 2.5rem; font-weight: 700; margin-bottom: 10px; position: relative; z-index: 3; } .plan-card .savings { color: #C51162; font-size: 1rem; font-weight: 600; margin-bottom: 15px; position: relative; z-index: 3; } .plan-card select { width: 100%; padding: 10px; margin-bottom: 20px; border: 1px solid rgba(239, 233, 225, 0.5); border-radius: 10px; background-color: #fff; transition: all 0.3s ease; position: relative; } .plan-card select:focus { outline: none; border-color: #EFE9E1; box-shadow: 0 0 0 3px rgba(239, 233, 225, 0.2); } .plan-btn { background: #EFE9E1; color: #000; border: 1px solid #ccc; padding: 14px 28px; font-size: 1rem; cursor: pointer; width: 100%; position: relative; z-index: 3; margin-bottom: 10px; } .plan-btn:hover { background: #EFE9E1; } .plan-btn:active { background: #EFE9E1; } .payment-btn { background: linear-gradient(135deg, #C51162 0%, #e91e63 100%); color: #fff; border: none; padding: 14px 28px; font-size: 1rem; font-weight: 600; cursor: pointer; width: 100%; position: relative; z-index: 3; border-radius: 8px; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(197, 17, 98, 0.3); } .payment-btn:hover { background: linear-gradient(135deg, #a00f4f 0%, #c2185b 100%); transform: translateY(-2px); box-shadow: 0 6px 20px rgba(197, 17, 98, 0.4); } .payment-btn:active { transform: translateY(0); box-shadow: 0 2px 10px rgba(197, 17, 98, 0.3); } /* Card animation layers */ .plan-card .bg { position: absolute; top: 5px; left: 5px; width: calc(100% - 10px); height: calc(100% - 10px); z-index: 2; background: rgba(255, 255, 255, .95); backdrop-filter: blur(24px); border-radius: 15px; overflow: hidden; outline: 2px solid white; } .plan-card .blob { position: absolute; z-index: 1; top: 50%; left: 50%; width: 150px; height: 150px; border-radius: 50%; background-color: #EFE9E1; opacity: 1; filter: blur(12px); animation: blob-bounce 5s infinite ease; } @keyframes blob-bounce { 0% { transform: translate(-100%, -100%) translate3d(0, 0, 0); } 25% { transform: translate(-100%, -100%) translate3d(100%, 0, 0); } 50% { transform: translate(-100%, -100%) translate3d(100%, 100%, 0); } 75% { transform: translate(-100%, -100%) translate3d(0, 100%, 0); } 100% { transform: translate(-100%, -100%) translate3d(0, 0, 0); } } /* Contenedor del calendario - Responsive y centrado con máximo ampliado */ #calendar-container { display: none; max-width: 1400px; /* Ancho máximo aumentado para mejor visibilidad */ margin: 50px auto 0; /* Centrado automático */ padding: 30px; background: linear-gradient(135deg, #ffffff 0%, #EFE9E1 100%); border-radius: 25px; box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1); border: 2px solid rgba(239, 233, 225, 0.3); animation: fadeInUp 0.8s ease-out; width: 95%; /* Usar 95% del ancho disponible */ } /* Div con id="calendar" donde se renderiza FullCalendar */ #calendar { color: #333; } /* ========== Enhanced Calendar Styling ========== */ .fc { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; } /* Calendar header */ .fc .fc-toolbar-title { font-size: 2.2rem; /* Aumentado para mejor visibilidad */ color: #333; font-weight: 600; } .fc .fc-button { background: #EFE9E1; border: 1px solid #ccc; color: #000; padding: 10px 20px; } .fc .fc-button:hover { background: #EFE9E1; } .fc .fc-button-active { background: #EFE9E1 !important; } /* Time slots styling - Aumentado para mejor visibilidad */ .fc .fc-timegrid-slot { height: 4.5rem; /* Aumentado de 3.5rem a 4.5rem */ border-color: rgba(239, 233, 225, 0.2); transition: background-color 0.3s ease; } .fc .fc-timegrid-slot-label { font-size: 1.1rem; /* Aumentado de 0.95rem a 1.1rem */ font-weight: 600; /* Aumentado de 500 a 600 */ color: #333; /* Cambiado de #666 a #333 para mejor contraste */ padding: 8px; /* Añadido padding */ } /* Day headers - Mejorado para mejor visibilidad */ .fc .fc-col-header-cell { background: linear-gradient(135deg, #EFE9E1 0%, #ffffff 100%); padding: 20px 8px; /* Aumentado padding */ font-weight: 700; /* Aumentado de 600 a 700 */ font-size: 1.2rem; /* Añadido tamaño de fuente más grande */ color: #333; border-color: rgba(239, 233, 225, 0.3); } .fc .fc-day-today { background-color: rgba(239, 233, 225, 0.15) !important; } /* Available time slots highlighting */ .fc .fc-timegrid-slot[data-time*="06:00"], .fc .fc-timegrid-slot[data-time*="07:00"], .fc .fc-timegrid-slot[data-time*="08:00"], .fc .fc-timegrid-slot[data-time*="09:00"], .fc .fc-timegrid-slot[data-time*="10:00"], .fc .fc-timegrid-slot[data-time*="17:00"], .fc .fc-timegrid-slot[data-time*="18:00"], .fc .fc-timegrid-slot[data-time*="19:00"] { background-color: rgba(239, 233, 225, 0.08); cursor: pointer; transition: background-color 0.3s ease; } .fc .fc-timegrid-slot[data-time*="06:00"]:hover, .fc .fc-timegrid-slot[data-time*="07:00"]:hover, .fc .fc-timegrid-slot[data-time*="08:00"]:hover, .fc .fc-timegrid-slot[data-time*="09:00"]:hover, .fc .fc-timegrid-slot[data-time*="10:00"]:hover, .fc .fc-timegrid-slot[data-time*="17:00"]:hover, .fc .fc-timegrid-slot[data-time*="18:00"]:hover, .fc .fc-timegrid-slot[data-time*="19:00"]:hover { background-color: rgba(239, 233, 225, 0.2); } /* Events (booked classes) - Mejorado para mejor visibilidad */ .fc-event { border-radius: 10px; padding: 8px; /* Aumentado de 4px a 8px */ font-weight: 600; /* Aumentado de 500 a 600 */ font-size: 1.05rem; /* Añadido tamaño de fuente más grande */ cursor: pointer; transition: all 0.3s ease; } .fc-event:hover { opacity: 0.85; transform: scale(1.02); } /* Grid lines */ .fc .fc-timegrid-col { border-color: rgba(239, 233, 225, 0.2); } .fc .fc-timegrid-axis { background-color: #fefefe; width: 70px; /* Ancho fijo para mejor visibilidad de las horas */ } /* Hide non-business hour slots for public calendar */ .fc .fc-timegrid-slot[data-time*="11:00"], .fc .fc-timegrid-slot[data-time*="12:00"], .fc .fc-timegrid-slot[data-time*="13:00"], .fc .fc-timegrid-slot[data-time*="14:00"], .fc .fc-timegrid-slot[data-time*="15:00"], .fc .fc-timegrid-slot[data-time*="16:00"] { display: none; } /* Hide non-business hour slots for admin calendar (hours 11:00-16:00) */ #admin-calendar .fc-timegrid-slot[data-time*="11:00"], #admin-calendar .fc-timegrid-slot[data-time*="12:00"], #admin-calendar .fc-timegrid-slot[data-time*="13:00"], #admin-calendar .fc-timegrid-slot[data-time*="14:00"], #admin-calendar .fc-timegrid-slot[data-time*="15:00"], #admin-calendar .fc-timegrid-slot[data-time*="16:00"] { display: none; } /* Calendar info banner */ .calendar-info { background: linear-gradient(135deg, #EFE9E1 0%, #ffffff 100%); padding: 25px 30px; border-radius: 15px; margin-bottom: 30px; text-align: center; border: 2px solid rgba(239, 233, 225, 0.3); box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05); } .calendar-info h3 { color: #333; margin-bottom: 15px; font-size: 1.4rem; font-weight: 600; } .calendar-info p { color: #666; margin: 8px 0; font-size: 1rem; } .calendar-legend { display: flex; justify-content: center; gap: 30px; flex-wrap: wrap; margin-top: 20px; } .legend-item { display: flex; align-items: center; gap: 10px; padding: 8px 15px; background-color: #ffffff; border-radius: 10px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05); transition: transform 0.3s ease; } .legend-item:hover { transform: translateY(-2px); } .legend-color { width: 24px; height: 24px; border-radius: 6px; } .legend-available { background-color: rgba(239, 233, 225, 0.5); border: 2px solid #EFE9E1; } .legend-booked { background: linear-gradient(135deg, #EFE9E1 0%, #EFE9E1 100%); border: 2px solid #EFE9E1; } /* Class counter display */ #class-counter-display { display: none; background: linear-gradient(135deg, #ffffff 0%, #EFE9E1 100%); padding: 20px 30px; border-radius: 15px; margin: 25px 0; text-align: center; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1); border: 2px solid rgba(239, 233, 225, 0.3); } #class-counter-display h3 { color: #333; font-size: 1.4rem; margin: 0; font-weight: 600; } #class-counter-display .counter-text { color: #666; font-size: 1.1rem; margin-top: 8px; } #class-counter-display .counter-number { color: #EFE9E1; font-weight: 700; font-size: 1.5rem; } /* Payment button container */ #payment-button-container { display: none; text-align: center; margin: 30px 0; animation: fadeInUp 0.5s ease-out; } #final-payment-btn { background: linear-gradient(135deg, #EFE9E1 0%, #EFE9E1 100%); color: #000; padding: 20px 50px; border: 2px solid #EFE9E1; border-radius: 15px; font-size: 1.3rem; font-weight: 700; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 6px 20px rgba(239, 233, 225, 0.4); text-transform: uppercase; letter-spacing: 1px; } #final-payment-btn:hover { transform: translateY(-3px); box-shadow: 0 8px 25px rgba(239, 233, 225, 0.6); } #final-payment-btn:active { transform: translateY(-1px); } @media (max-width: 768px) { #class-counter-display h3 { font-size: 1.2rem; } #class-counter-display .counter-text { font-size: 1rem; } #final-payment-btn { padding: 16px 35px; font-size: 1.1rem; } } /* ========== 3.5. My Classes Section ========== */ .my-classes-section { display: none; /* Hidden by default, shown when user is logged in */ background: linear-gradient(135deg, #EFE9E1 0%, #ffffff 100%); padding: 80px 20px; position: relative; } .my-classes-section h2 { font-size: 3rem; color: #333; text-align: center; margin-bottom: 20px; font-weight: 300; letter-spacing: 2px; animation: fadeInUp 0.8s ease-out; } .my-classes-section h2::after { content: ''; display: block; width: 80px; height: 3px; background: linear-gradient(90deg, #EFE9E1, #EFE9E1); margin: 20px auto 40px; border-radius: 2px; } .my-classes-container { max-width: 1200px; margin: 0 auto; padding: 20px; } .my-classes-empty { text-align: center; padding: 60px 20px; color: #666; font-size: 1.2rem; } .my-classes-empty-icon { font-size: 4rem; margin-bottom: 20px; opacity: 0.5; } .my-classes-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 25px; margin-top: 30px; } .class-card { background: linear-gradient(135deg, #ffffff 0%, #EFE9E1 100%); border-radius: 20px; padding: 30px; box-shadow: 0 5px 25px rgba(0, 0, 0, 0.08); border: 2px solid rgba(239, 233, 225, 0.3); transition: all 0.4s ease; position: relative; overflow: hidden; animation: fadeInUp 0.6s ease-out forwards; } .class-card::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 5px; background: linear-gradient(90deg, #EFE9E1, #EFE9E1); } .class-card:hover { transform: translateY(-8px); box-shadow: 0 15px 40px rgba(239, 233, 225, 0.4); border-color: #EFE9E1; } .class-card-date { display: flex; align-items: center; gap: 10px; margin-bottom: 15px; color: #333; font-size: 1.3rem; font-weight: 600; } .class-card-date-icon { font-size: 1.8rem; color: #EFE9E1; } .class-card-time { display: flex; align-items: center; gap: 10px; margin-bottom: 15px; color: #666; font-size: 1.1rem; } .class-card-time-icon { font-size: 1.5rem; color: #EFE9E1; } .class-card-info { color: #777; font-size: 0.95rem; line-height: 1.6; padding: 15px; background: rgba(239, 233, 225, 0.1); border-radius: 10px; margin-top: 15px; } .class-card-status { display: inline-block; padding: 8px 16px; border-radius: 20px; font-size: 0.9rem; font-weight: 600; margin-top: 15px; } .class-card-status.upcoming { background: linear-gradient(135deg, #e8f5e9, #c8e6c9); color: #2e7d32; } .class-card-status.past { background: linear-gradient(135deg, #f5f5f5, #e0e0e0); color: #757575; } /* Loading spinner for my classes */ .my-classes-loading { text-align: center; padding: 60px 20px; color: #666; } .my-classes-loading-spinner { display: inline-block; width: 50px; height: 50px; border: 5px solid rgba(239, 233, 225, 0.3); border-top-color: #EFE9E1; border-radius: 50%; animation: spin 1s linear infinite; } @keyframes spin { to { transform: rotate(360deg); } } /* ========== WhatsApp Button Styles ========== */ .whatsapp-schedule-button { display: flex; align-items: center; justify-content: center; width: 100%; max-width: 500px; margin: 30px auto; padding: 20px 30px; background: linear-gradient(135deg, #25D366 0%, #128C7E 100%); color: #fff; border: none; border-radius: 16px; font-size: 1.2rem; font-weight: 700; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 6px 20px rgba(37, 211, 102, 0.4); text-transform: none; letter-spacing: 0.5px; } .whatsapp-schedule-button:hover { transform: translateY(-3px); box-shadow: 0 10px 30px rgba(37, 211, 102, 0.5); background: linear-gradient(135deg, #128C7E 0%, #075E54 100%); } .whatsapp-schedule-button:active { transform: translateY(-1px); box-shadow: 0 4px 15px rgba(37, 211, 102, 0.3); } .whatsapp-schedule-button svg { flex-shrink: 0; } /* Mobile optimization */ @media (max-width: 768px) { .whatsapp-schedule-button { font-size: 1.1rem; padding: 18px 25px; max-width: 100%; margin: 20px auto; } } @media (max-width: 480px) { .whatsapp-schedule-button { font-size: 1rem; padding: 16px 20px; } } /* Payment success WhatsApp button container */ #payment-success-whatsapp { display: none; text-align: center; padding: 20px; animation: fadeInUp 0.5s ease-out; } /* My Classes WhatsApp button container */ #my-classes-whatsapp { text-align: center; padding: 20px; margin-top: 30px; } /* Responsive adjustments */ @media (max-width: 768px) { .my-classes-grid { grid-template-columns: 1fr; gap: 20px; } .class-card { padding: 25px; } .class-card-date { font-size: 1.1rem; } .class-card-time { font-size: 1rem; } } /* ========== 4. Image Scroll Section ========== */ .image-scroll-section { background: linear-gradient(180deg, #ffffff 0%, #EFE9E1 50%, #ffffff 100%); padding: 80px 20px; } .image-scroll-section h2 { font-size: 3rem; color: #333; text-align: center; margin-bottom: 20px; font-weight: 300; letter-spacing: 2px; animation: fadeInUp 0.8s ease-out; } .image-scroll-section h2::after { content: ''; display: block; width: 80px; height: 3px; background: linear-gradient(90deg, #EFE9E1, #EFE9E1); margin: 20px auto 40px; border-radius: 2px; } .image-scroll-container { display: flex; gap: 25px; overflow-x: auto; padding: 20px; max-width: 1200px; margin: 0 auto; scroll-behavior: smooth; } .image-scroll-container::-webkit-scrollbar { height: 8px; } .image-scroll-container::-webkit-scrollbar-track { background: rgba(239, 233, 225, 0.1); border-radius: 10px; } .image-scroll-container::-webkit-scrollbar-thumb { background: linear-gradient(90deg, #EFE9E1, #EFE9E1); border-radius: 10px; transition: background 0.3s ease; } .image-scroll-container::-webkit-scrollbar-thumb:hover { background: linear-gradient(90deg, #EFE9E1, #EFE9E1); } .image-wrapper { position: relative; width: 320px; height: 320px; flex-shrink: 0; border-radius: 20px; overflow: hidden; box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1); transition: all 0.4s ease; cursor: pointer; } .image-wrapper:hover { transform: translateY(-10px) scale(1.02); box-shadow: 0 15px 40px rgba(239, 233, 225, 0.4); } .scroll-image { width: 100%; height: 100%; object-fit: cover; transition: all 0.4s ease; } /* Heart overlay - outline by default (Instagram-style smaller size) */ .heart-overlay { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 28px; color: transparent; -webkit-text-stroke: 1.5px white; text-stroke: 1.5px white; pointer-events: none; transition: all 0.3s ease; text-shadow: 0 1px 4px rgba(0, 0, 0, 0.3); opacity: 0.7; } .image-wrapper:hover .heart-overlay { opacity: 1; } /* Filled heart when liked */ .heart-overlay.liked { color: #ff0000; -webkit-text-stroke: 0; text-stroke: 0; animation: heartBeat 0.5s ease; } /* Heart animation */ @keyframes heartBeat { 0% { transform: translate(-50%, -50%) scale(0.8); opacity: 0; } 50% { transform: translate(-50%, -50%) scale(1.3); } 100% { transform: translate(-50%, -50%) scale(1); opacity: 1; } } /* Like animation effect (Instagram-style burst) */ .like-burst { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 45px; color: #ff0000; pointer-events: none; animation: likeBurst 0.8s ease forwards; opacity: 0; } @keyframes likeBurst { 0% { transform: translate(-50%, -50%) scale(0); opacity: 1; } 50% { transform: translate(-50%, -50%) scale(1.2); opacity: 0.8; } 100% { transform: translate(-50%, -50%) scale(1.5); opacity: 0; } } /* ========== Custom Alert/Notification System ========== */ .custom-alert-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); z-index: 10000; justify-content: center; align-items: center; animation: fadeIn 0.3s ease; } .custom-alert-card { background: linear-gradient(135deg, #ffffff 0%, #EFE9E1 100%); border-radius: 25px; padding: 40px 35px; max-width: 500px; width: 90%; box-shadow: 0 20px 60px rgba(239, 233, 225, 0.4); border: 3px solid #EFE9E1; animation: slideInUp 0.4s ease; position: relative; text-align: center; } @keyframes slideInUp { from { opacity: 0; transform: translateY(50px); } to { opacity: 1; transform: translateY(0); } } .custom-alert-icon { font-size: 4rem; margin-bottom: 20px; display: block; animation: pulse 1s ease infinite; } .custom-alert-title { font-size: 1.8rem; font-weight: 600; color: #333; margin-bottom: 15px; font-family: 'Amita', serif; } .custom-alert-message { font-size: 1.1rem; color: #666; line-height: 1.8; margin-bottom: 30px; white-space: pre-line; } .custom-alert-button { background: linear-gradient(135deg, #EFE9E1 0%, #EFE9E1 100%); color: #000; padding: 15px 40px; border: none; border-radius: 50px; font-size: 1.1rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 5px 20px rgba(239, 233, 225, 0.4); } .custom-alert-button:hover { background: linear-gradient(135deg, #EFE9E1 0%, #EFE9E1 100%); transform: translateY(-2px); box-shadow: 0 8px 25px rgba(239, 233, 225, 0.6); } .custom-alert-button:active { transform: translateY(0); } /* Alert type variants */ .custom-alert-success .custom-alert-icon { color: #4CAF50; } .custom-alert-error .custom-alert-icon { color: #f44336; } .custom-alert-warning .custom-alert-icon { color: #ff9800; } .custom-alert-info .custom-alert-icon { color: #2196F3; } /* Responsive */ @media (max-width: 768px) { .custom-alert-card { padding: 30px 25px; max-width: 90%; } .custom-alert-icon { font-size: 3rem; } .custom-alert-title { font-size: 1.5rem; } .custom-alert-message { font-size: 1rem; } .custom-alert-button { padding: 12px 30px; font-size: 1rem; } } /* ========== 5. Contact Section ========== */ .contact-section { background: linear-gradient(135deg, #EFE9E1 0%, #ffffff 100%); padding: 80px 20px; text-align: center; position: relative; overflow: hidden; } /* ========== Reglamento Link Styles ========== */ .reglamento-link { text-align: center; padding: 40px 20px; background: linear-gradient(135deg, #ffffff 0%, #EFE9E1 100%); } .reglamento-link a { font-size: 1.2rem; font-weight: bold; text-decoration: underline; color: #000; cursor: pointer; transition: all 0.3s ease; display: inline-block; } .reglamento-link a:hover { color: #000; transform: scale(1.05); } /* Modal for Reglamento */ .reglamento-modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); z-index: 3000; justify-content: center; align-items: center; overflow-y: auto; padding: 20px; } .reglamento-content { background: linear-gradient(135deg, #ffffff 0%, #EFE9E1 100%); padding: 40px; border-radius: 20px; box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2); max-width: 800px; width: 100%; max-height: 90vh; overflow-y: auto; border: 2px solid rgba(239, 233, 225, 0.3); position: relative; } .reglamento-content h2 { color: #333; margin-bottom: 20px; font-size: 2rem; font-weight: 600; text-align: center; } .reglamento-content h3 { color: #EFE9E1; margin-top: 25px; margin-bottom: 15px; font-size: 1.4rem; font-weight: 600; } .reglamento-content p { color: #666; line-height: 1.8; margin-bottom: 15px; text-align: left; } .reglamento-content strong { color: #333; font-weight: 600; } .reglamento-close { background: linear-gradient(135deg, #EFE9E1 0%, #EFE9E1 100%); color: #000; padding: 12px 30px; border: none; border-radius: 25px; font-size: 1rem; font-weight: 500; cursor: pointer; transition: all 0.4s ease; margin-top: 20px; box-shadow: 0 4px 15px rgba(239, 233, 225, 0.3); display: block; margin-left: auto; margin-right: auto; } .reglamento-close:hover { background: linear-gradient(135deg, #EFE9E1 0%, #EFE9E1 100%); transform: translateY(-2px); box-shadow: 0 8px 20px rgba(239, 233, 225, 0.5); } @media (max-width: 768px) { .reglamento-content { padding: 30px 20px; max-height: 85vh; } .reglamento-content h2 { font-size: 1.6rem; } .reglamento-content h3 { font-size: 1.2rem; } .reglamento-link a { font-size: 1.1rem; } } .contact-section::before { content: ''; position: absolute; width: 400px; height: 400px; background: radial-gradient(circle, rgba(239, 233, 225, 0.2) 0%, transparent 70%); border-radius: 50%; top: -100px; right: -100px; animation: float 8s ease-in-out infinite; } .contact-section h2 { font-size: 3rem; color: #333; margin-bottom: 30px; font-weight: 300; letter-spacing: 2px; animation: fadeInUp 0.8s ease-out; position: relative; } .contact-section h2::after { content: ''; display: block; width: 80px; height: 3px; background: linear-gradient(90deg, #EFE9E1, #EFE9E1); margin: 20px auto; border-radius: 2px; } .contact-section p { font-size: 1.2rem; color: #666; margin-bottom: 15px; animation: fadeInUp 0.8s ease-out; position: relative; } .contact-btn { background: #EFE9E1; color: #000; padding: 18px 40px; border: 1px solid #ccc; font-size: 1.2rem; cursor: pointer; text-decoration: none; display: inline-block; margin: 30px 0; animation: fadeInUp 0.8s ease-out; position: relative; } .contact-btn:hover { background: #EFE9E1; } .contact-btn:active { background: #EFE9E1; } .hours { font-size: 1.1rem; color: #666; margin-top: 20px; animation: fadeInUp 0.8s ease-out; position: relative; } /* ========== Admin Calendar Styles ========== */ #admin-calendar-view { margin-top: 40px; background: linear-gradient(135deg, #ffffff 0%, #EFE9E1 100%); padding: 50px; border-radius: 20px; box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08); border: 2px solid rgba(239, 233, 225, 0.3); transition: all 0.4s ease; width: 100%; max-width: 100%; box-sizing: border-box; } #admin-calendar-view:hover { box-shadow: 0 12px 40px rgba(0, 0, 0, 0.12); transform: translateY(-2px); } /* Admin calendar controls */ .admin-calendar-controls { display: flex; gap: 20px; margin-bottom: 40px; flex-wrap: wrap; align-items: center; padding: 25px; background: rgba(255, 255, 255, 0.7); border-radius: 15px; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05); } .admin-calendar-controls input, .admin-calendar-controls select { padding: 14px 20px; border: 2px solid rgba(239, 233, 225, 0.3); border-radius: 12px; font-size: 1rem; transition: all 0.3s ease; background: white; color: #333; } .admin-calendar-controls input:focus, .admin-calendar-controls select:focus { outline: none; border-color: #EFE9E1; box-shadow: 0 0 0 3px rgba(239, 233, 225, 0.2); } .admin-calendar-controls button { padding: 14px 28px; background: #EFE9E1; color: white; border: 1px solid #ccc; font-size: 1rem; cursor: pointer; } .admin-calendar-controls button:hover { background: #EFE9E1; } .admin-calendar-controls button:active { background: #EFE9E1; } /* Search Results Container */ #search-results-container { background: linear-gradient(135deg, #ffffff 0%, #EFE9E1 100%); padding: 20px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08); border: 2px solid rgba(239, 233, 225, 0.3); } #search-results-list { display: flex; flex-direction: column; gap: 12px; } .search-result-item { background: white; padding: 15px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05); border: 1px solid rgba(239, 233, 225, 0.3); display: flex; flex-direction: column; gap: 8px; } .search-result-item .participant-name { font-size: 1.1rem; font-weight: 600; color: #333; display: flex; align-items: center; gap: 8px; } .search-result-item .participant-phone { font-size: 1rem; color: #666; display: flex; align-items: center; gap: 8px; } .search-result-item .contact-button { background: linear-gradient(135deg, #25D366 0%, #128C7E 100%); color: white; border: none; padding: 10px 20px; border-radius: 8px; font-size: 0.95rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 2px 8px rgba(37, 211, 102, 0.3); display: flex; align-items: center; justify-content: center; gap: 6px; } .search-result-item .contact-button:active { transform: translateY(1px); box-shadow: 0 1px 4px rgba(37, 211, 102, 0.3); } /* Stats summary */ .admin-stats-summary { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 25px; margin-bottom: 40px; } .stat-card { background: linear-gradient(135deg, #ffffff 0%, #EFE9E1 100%); padding: 25px 20px; border-radius: 15px; text-align: center; border: 2px solid rgba(239, 233, 225, 0.3); transition: all 0.3s ease; } .stat-card:hover { transform: translateY(-3px); box-shadow: 0 8px 20px rgba(239, 233, 225, 0.3); } .stat-card .stat-icon { font-size: 2.5rem; margin-bottom: 10px; } .stat-card .stat-value { font-size: 2rem; font-weight: 700; color: #000000; margin-bottom: 5px; } .stat-card .stat-label { font-size: 0.95rem; color: #666; font-weight: 500; } #admin-calendar { min-height: 1000px; /* Aumentado de 900px a 1000px */ border-radius: 15px; overflow-x: auto; /* Permitir scroll horizontal */ overflow-y: visible; width: 100%; /* Asegurar que el calendario tenga suficiente espacio horizontal */ min-width: 100%; } /* Estilo para la barra de scroll horizontal del calendario admin */ #admin-calendar::-webkit-scrollbar { height: 12px; } #admin-calendar::-webkit-scrollbar-track { background: rgba(239, 233, 225, 0.1); border-radius: 10px; } #admin-calendar::-webkit-scrollbar-thumb { background: linear-gradient(90deg, #EFE9E1, #D4C5B9); border-radius: 10px; transition: background 0.3s ease; } #admin-calendar::-webkit-scrollbar-thumb:hover { background: linear-gradient(90deg, #D4C5B9, #C4B5A9); } /* Asegurar que las columnas de días tengan ancho mínimo adecuado */ #admin-calendar .fc-timegrid-col { min-width: 150px; /* Ancho mínimo para cada columna de día */ } /* Asegurar que el contenedor del calendario permita el desbordamiento */ #admin-calendar .fc-view-harness { overflow: visible; } /* Hint message for horizontal scrolling */ .calendar-scroll-hint { text-align: center; padding: 18px 20px; background: linear-gradient(135deg, rgba(239, 233, 225, 0.4) 0%, rgba(239, 233, 225, 0.2) 100%); border-radius: 12px; margin-bottom: 20px; font-size: 1rem; color: #333; border: 2px solid rgba(239, 233, 225, 0.3); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05); } .calendar-scroll-hint span { font-weight: 700; color: #1a1a1a; } /* Admin calendar event styling - Mejorado para mejor visibilidad */ #admin-calendar .fc-event { font-size: 1.15rem; /* Aumentado de 1.05rem a 1.15rem */ padding: 12px 14px; /* Aumentado padding */ cursor: pointer; border-radius: 8px; transition: all 0.3s ease; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08); font-weight: 600; /* Aumentado de 500 a 600 */ } #admin-calendar .fc-event:hover { transform: scale(1.03); box-shadow: 0 4px 15px rgba(239, 233, 225, 0.4); } #admin-calendar .fc-event-title { font-weight: 700; /* Aumentado de 600 a 700 */ font-size: 1.15rem; /* Aumentado de 1.05rem a 1.15rem */ display: flex; align-items: center; gap: 6px; } /* Event detail modal */ .event-detail-modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.6); z-index: 3000; justify-content: center; align-items: center; padding: 20px; backdrop-filter: blur(5px); } .event-detail-content { background: linear-gradient(135deg, #ffffff 0%, #EFE9E1 100%); padding: 35px; border-radius: 20px; box-shadow: 0 15px 50px rgba(0, 0, 0, 0.3); max-width: 500px; width: 100%; border: 2px solid rgba(239, 233, 225, 0.4); position: relative; animation: modalFadeIn 0.3s ease-out; } @keyframes modalFadeIn { from { opacity: 0; transform: scale(0.9) translateY(-20px); } to { opacity: 1; transform: scale(1) translateY(0); } } .event-detail-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 25px; padding-bottom: 15px; border-bottom: 2px solid rgba(239, 233, 225, 0.3); } .event-detail-header h3 { color: #333; font-size: 1.8rem; font-weight: 600; margin: 0; display: flex; align-items: center; gap: 10px; } .event-detail-close { background: transparent; border: none; font-size: 2rem; color: #999; cursor: pointer; transition: all 0.3s ease; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; border-radius: 50%; } .event-detail-close:hover { background: rgba(239, 233, 225, 0.2); color: #EFE9E1; transform: rotate(90deg); } .event-detail-body { display: flex; flex-direction: column; gap: 18px; } .event-detail-row { display: flex; align-items: flex-start; gap: 15px; padding: 12px; background: rgba(255, 255, 255, 0.7); border-radius: 10px; border-left: 4px solid #EFE9E1; } .event-detail-icon { font-size: 1.5rem; min-width: 30px; display: flex; align-items: center; justify-content: center; } .event-detail-info { flex: 1; } .event-detail-label { font-size: 0.85rem; color: #999; font-weight: 500; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 4px; } .event-detail-value { font-size: 1.1rem; color: #333; font-weight: 600; } .event-detail-actions { display: flex; gap: 10px; margin-top: 20px; flex-wrap: wrap; } .event-detail-actions button { flex: 1; padding: 12px; border: 1px solid #ccc; font-size: 1rem; cursor: pointer; } .event-detail-actions .btn-primary { background: #EFE9E1; color: #000; } .event-detail-actions .btn-primary:hover { background: #EFE9E1; } .event-detail-actions .btn-secondary { background: #e0e0e0; color: #666; } .event-detail-actions .btn-secondary:hover { background: #d0d0d0; } .event-detail-actions .btn-danger { background: #dc3545; color: #fff; border: none; } .event-detail-actions .btn-danger:hover { background: #c82333; } .event-detail-actions .btn-whatsapp { background: linear-gradient(135deg, #25D366 0%, #128C7E 100%); color: #fff; border: none; padding: 12px 24px; border-radius: 10px; cursor: pointer; font-size: 1rem; font-weight: 600; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(37, 211, 102, 0.3); } .event-detail-actions .btn-whatsapp:hover { background: linear-gradient(135deg, #20BA5A 0%, #0E7A6A 100%); transform: translateY(-2px); box-shadow: 0 6px 20px rgba(37, 211, 102, 0.4); } .event-detail-actions .btn-whatsapp:active { transform: translateY(0); box-shadow: 0 2px 10px rgba(37, 211, 102, 0.3); } .event-detail-actions .btn-edit { background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%); color: #fff; border: none; padding: 12px 24px; border-radius: 10px; cursor: pointer; font-size: 1rem; font-weight: 600; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(33, 150, 243, 0.3); } .event-detail-actions .btn-edit:hover { background: linear-gradient(135deg, #1E88E5 0%, #1565C0 100%); transform: translateY(-2px); box-shadow: 0 6px 20px rgba(33, 150, 243, 0.4); } .event-detail-actions .btn-edit:active { transform: translateY(0); box-shadow: 0 2px 10px rgba(33, 150, 243, 0.3); } /* Participant contact button */ .btn-participant-contact { background: linear-gradient(135deg, #25D366 0%, #128C7E 100%); color: #fff; border: none; padding: 8px 16px; border-radius: 8px; font-size: 0.9rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(37, 211, 102, 0.3); margin-top: 8px; width: 100%; } .btn-participant-contact:hover { background: linear-gradient(135deg, #20BA5A 0%, #0E7A6A 100%); transform: translateY(-2px); box-shadow: 0 6px 20px rgba(37, 211, 102, 0.4); } .btn-participant-contact:active { transform: translateY(0); box-shadow: 0 2px 10px rgba(37, 211, 102, 0.3); } /* Participant edit button */ .btn-participant-edit { background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%); color: #fff; border: none; padding: 8px 16px; border-radius: 8px; font-size: 0.9rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(33, 150, 243, 0.3); margin-top: 8px; width: 100%; } .btn-participant-edit:hover { background: linear-gradient(135deg, #1E88E5 0%, #1565C0 100%); transform: translateY(-2px); box-shadow: 0 6px 20px rgba(33, 150, 243, 0.4); } .btn-participant-edit:active { transform: translateY(0); box-shadow: 0 2px 10px rgba(33, 150, 243, 0.3); } /* Participant buttons container */ .participant-buttons { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-top: 8px; } /* Unique clients list styles */ .unique-clients-modal-content { max-width: 900px; max-height: 80vh; overflow-y: auto; } .unique-clients-list-body { padding: 20px; } .unique-clients-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr)); gap: 20px; margin-top: 10px; } .unique-client-card { background: linear-gradient(135deg, #ffffff 0%, #f5f5f5 100%); border-radius: 15px; padding: 20px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1); border: 2px solid rgba(239, 233, 225, 0.4); transition: all 0.3s ease; animation: fadeInUp 0.4s ease-out; } .unique-client-card:hover { transform: translateY(-5px); box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15); border-color: #EFE9E1; } .unique-client-header { display: flex; align-items: center; gap: 12px; margin-bottom: 15px; padding-bottom: 12px; border-bottom: 2px solid rgba(239, 233, 225, 0.3); } .unique-client-icon { font-size: 2rem; width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; background: linear-gradient(135deg, #EFE9E1 0%, #e0d4cc 100%); border-radius: 50%; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); } .unique-client-info { flex: 1; } .unique-client-name { font-size: 1.2rem; font-weight: 700; color: #333; margin-bottom: 4px; } .unique-client-phone { font-size: 0.95rem; color: #666; display: flex; align-items: center; gap: 6px; } .unique-client-stats { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px; } .unique-client-stat { background: rgba(239, 233, 225, 0.15); padding: 10px; border-radius: 8px; text-align: center; } .unique-client-stat-value { font-size: 1.5rem; font-weight: 700; color: #333; margin-bottom: 2px; } .unique-client-stat-label { font-size: 0.85rem; color: #666; } .unique-client-actions { display: flex; gap: 8px; } .unique-client-btn { flex: 1; padding: 10px; border: none; border-radius: 8px; font-size: 0.9rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; gap: 6px; } .unique-client-btn-whatsapp { background: linear-gradient(135deg, #25D366 0%, #128C7E 100%); color: #fff; box-shadow: 0 3px 10px rgba(37, 211, 102, 0.3); } .unique-client-btn-whatsapp:hover { background: linear-gradient(135deg, #20BA5A 0%, #0E7A6A 100%); transform: translateY(-2px); box-shadow: 0 5px 15px rgba(37, 211, 102, 0.4); } .unique-client-btn-classes { background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%); color: #fff; box-shadow: 0 3px 10px rgba(33, 150, 243, 0.3); } .unique-client-btn-classes:hover { background: linear-gradient(135deg, #1E88E5 0%, #1565C0 100%); transform: translateY(-2px); box-shadow: 0 5px 15px rgba(33, 150, 243, 0.4); } @media (max-width: 768px) { .unique-clients-grid { grid-template-columns: 1fr; } } /* Modal input fields */ .modal-input-field { width: 100%; padding: 10px; border: 2px solid rgba(239, 233, 225, 0.3); border-radius: 8px; font-size: 1rem; margin-top: 5px; } /* Admin package selection buttons */ .admin-package-btn { padding: 12px 16px; border: 2px solid rgba(239, 233, 225, 0.5); border-radius: 8px; background: #fff; color: #333; font-size: 0.95rem; font-weight: 500; cursor: pointer; transition: all 0.3s ease; text-align: center; } .admin-package-btn:hover { border-color: #EFE9E1; background: rgba(239, 233, 225, 0.1); transform: translateY(-2px); } .admin-package-btn.selected { border-color: #EFE9E1; background: #EFE9E1; color: #000; font-weight: 600; } /* Horizontal layout for admin schedule step 2 */ .admin-schedule-horizontal-container { display: flex; gap: 20px; align-items: flex-start; } .admin-schedule-calendar-wrapper { flex: 1; min-width: 0; /* important for flex items to shrink properly */ } .admin-selected-times-wrapper { flex: 0 0 350px; /* Fixed width for the selected times panel */ padding: 20px; background: #f8f9fa; border-radius: 12px; border: 2px solid #B8A99A; position: sticky; top: 20px; max-height: calc(100vh - 300px); overflow-y: auto; } /* Admin schedule modal default width */ #admin-schedule-modal-content { max-width: 800px; } /* Adjust modal width when step 2 is active */ #admin-schedule-modal-content.step2-active { max-width: 1400px; } /* Mobile responsive: stack vertically on smaller screens */ @media (max-width: 1024px) { .admin-schedule-horizontal-container { flex-direction: column; } .admin-selected-times-wrapper { flex: 1; width: 100%; position: static; max-height: 500px; } #admin-schedule-modal-content, #admin-schedule-modal-content.step2-active { max-width: 95%; } } /* Admin Scheduling Section - Full Page */ .admin-scheduling-section { min-height: 100vh; background: linear-gradient(135deg, #ffffff 0%, #EFE9E1 100%); padding: 40px 20px; } .admin-scheduling-container { max-width: 1400px; margin: 0 auto; } .admin-schedule-content { background: #fff; border-radius: 20px; padding: 40px; box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1); border: 2px solid rgba(239, 233, 225, 0.3); } .admin-schedule-header { text-align: center; margin-bottom: 30px; border-bottom: 3px solid #B8A99A; padding-bottom: 20px; } .admin-schedule-header h2 { color: #1a1a1a; font-size: 2rem; font-weight: 700; margin: 0; } .admin-schedule-body { margin-bottom: 30px; } .admin-schedule-row { display: flex; align-items: flex-start; gap: 15px; margin-bottom: 25px; padding: 20px; background: #f8f9fa; border-radius: 12px; border: 2px solid rgba(239, 233, 225, 0.3); } .admin-schedule-icon { font-size: 1.8rem; min-width: 40px; display: flex; align-items: center; justify-content: center; } .admin-schedule-info { flex: 1; } .admin-schedule-label { font-weight: 600; color: #333; margin-bottom: 8px; font-size: 1.1rem; } .admin-schedule-actions { display: flex; justify-content: space-between; gap: 15px; padding-top: 20px; border-top: 2px solid rgba(239, 233, 225, 0.3); } .admin-package-btn-fullpage { padding: 12px 16px; border: 2px solid rgba(239, 233, 225, 0.5); border-radius: 8px; background: #fff; color: #333; font-size: 0.95rem; font-weight: 500; cursor: pointer; transition: all 0.3s ease; text-align: center; } .admin-package-btn-fullpage:hover { border-color: #EFE9E1; background: rgba(239, 233, 225, 0.1); transform: translateY(-2px); } .admin-package-btn-fullpage.selected { border-color: #EFE9E1; background: #EFE9E1; color: #000; font-weight: 600; } /* Selected times list */ .admin-selected-time-item { display: flex; justify-content: space-between; align-items: center; padding: 20px 25px; margin-bottom: 15px; background: linear-gradient(135deg, #ffffff 0%, #EFE9E1 100%); border-radius: 12px; border: 2px solid #B8A99A; border-left: 6px solid #8B7355; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); transition: all 0.3s ease; } .admin-selected-time-item:hover { box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2); transform: translateY(-3px); border-left-color: #6b5744; } .admin-selected-time-item span { color: #1a1a1a; font-weight: 700; font-size: 1.15rem; flex: 1; } .admin-selected-time-item button { background: #dc3545; color: white; border: none; padding: 12px 20px; border-radius: 8px; cursor: pointer; font-size: 1rem; font-weight: 700; transition: all 0.2s ease; box-shadow: 0 2px 6px rgba(220, 53, 69, 0.3); white-space: nowrap; margin-left: 15px; } .admin-selected-time-item button:hover { background: #c82333; transform: scale(1.08); box-shadow: 0 4px 10px rgba(220, 53, 69, 0.4); } /* Scrollbar styling for selected times list */ #admin-selected-times-list { /* Firefox */ scrollbar-width: thin; scrollbar-color: #B8A99A #f1f1f1; } #admin-selected-times-list::-webkit-scrollbar { width: 10px; } #admin-selected-times-list::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 10px; } #admin-selected-times-list::-webkit-scrollbar-thumb { background: #B8A99A; border-radius: 10px; } #admin-selected-times-list::-webkit-scrollbar-thumb:hover { background: #8B7355; } /* Admin calendar time grid */ #admin-calendar .fc-timegrid-slot { height: 4.5rem; transition: background-color 0.3s ease; } #admin-calendar .fc-timegrid-slot:hover { background-color: rgba(239, 233, 225, 0.1); } #admin-calendar .fc-timegrid-slot-label { font-size: 1.05rem; color: #666; font-weight: 500; padding: 8px; } /* Enhanced admin calendar toolbar */ #admin-calendar .fc-toolbar-title { font-size: 2.2rem; color: #333; font-weight: 600; letter-spacing: 0.5px; } #admin-calendar .fc-button { background: #EFE9E1; border: 1px solid #ccc; color: #000; padding: 14px 26px; font-size: 1.05rem; } #admin-calendar .fc-button:hover { background: #EFE9E1; } #admin-calendar .fc-button-active { background: #EFE9E1 !important; } /* Admin calendar day headers */ #admin-calendar .fc-col-header-cell { background: linear-gradient(135deg, #EFE9E1 0%, #ffffff 100%); padding: 22px 10px; font-weight: 600; font-size: 1.15rem; color: #333; border-color: rgba(239, 233, 225, 0.3); } #admin-calendar .fc-day-today { background-color: rgba(239, 233, 225, 0.15) !important; } /* Admin calendar grid lines */ #admin-calendar .fc-timegrid-col { border-color: rgba(239, 233, 225, 0.2); } #admin-calendar .fc-timegrid-axis { background-color: #fefefe; } /* ========== Responsive Design ========== */ @media (max-width: 768px) { /* Header - Mobile version */ .site-header { height: 90px; } .site-header .logo { height: 80px; max-width: 220px; } /* Hamburger menu container - adjust height to match header */ #hamburger-container { height: 90px; } #hamburger-btn .hamburger-line { width: 26px; height: 2.5px; } .hero-content h1 { font-size: 2.5rem; letter-spacing: 4px; } .hero-content h2 { font-size: 2rem; } .hero-content p { font-size: 1.2rem; } .hero-btn { padding: 15px 30px; font-size: 1rem; } /* Video background on mobile - ensure it covers properly */ .hero-video-background { object-fit: cover; object-position: center center; } /* Stronger overlay on mobile for better text visibility */ .hero-overlay { background: linear-gradient(135deg, rgba(255, 255, 255, 0.5) 0%, rgba(239, 233, 225, 0.5) 50%, rgba(239, 233, 225, 0.5) 100%); } .about-section { padding: 60px 20px; } .about-item { flex-direction: column; gap: 25px; margin-bottom: 40px; } .about-item.reverse { flex-direction: column; } .about-image { min-width: 100%; } .about-image img { height: 300px; } .about-text { padding: 30px 25px; } .booking-section, .image-scroll-section, .contact-section { padding: 60px 20px; } .plans-grid { flex-direction: column; align-items: center; gap: 20px; } .plan-card { width: 100%; max-width: 320px; } .booking-section h2, .image-scroll-section h2, .contact-section h2 { font-size: 2.2rem; } .contact-section p { font-size: 1.1rem; } .contact-btn { padding: 15px 30px; font-size: 1.1rem; } #calendar-container { padding: 15px 10px; margin: 30px 10px 0; border-radius: 15px; } /* Admin panel container en móvil - ajustar para permitir que el calendario salga */ #admin-panel-container { padding: 25px 15px !important; margin: 0 8px !important; border-radius: 16px !important; overflow: visible !important; /* Permitir que el calendario salga del contenedor */ box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15) !important; } /* Admin panel title - better sizing for mobile */ #admin-panel-container h3 { font-size: 1.6rem !important; margin-bottom: 25px !important; padding-bottom: 12px; border-bottom: 2px solid rgba(239, 233, 225, 0.4); } .calendar-info { padding: 15px; margin-bottom: 20px; } .calendar-info h3 { font-size: 1.2rem; margin-bottom: 10px; } .calendar-info p { font-size: 0.9rem; margin: 5px 0; } .calendar-legend { gap: 15px; margin-top: 15px; } .legend-item { padding: 6px 12px; font-size: 0.85rem; } .legend-color { width: 20px; height: 20px; } /* Mobile Calendar Styles */ .fc .fc-toolbar { display: flex; flex-direction: column; gap: 10px; padding: 10px 5px; } .fc .fc-toolbar-chunk { display: flex; justify-content: center; align-items: center; flex-wrap: wrap; gap: 8px; } .fc .fc-toolbar-title { font-size: 1.1rem; text-align: center; width: 100%; margin: 5px 0; } .fc .fc-button { padding: 8px 12px; font-size: 0.85rem; border-radius: 8px; } .fc .fc-button-group { display: flex; gap: 5px; } /* Mobile time grid adjustments - Mejorado para mejor visibilidad */ .fc .fc-timegrid-slot { height: 3.5rem; /* Aumentado de 2.8rem a 3.5rem */ font-size: 1rem; /* Aumentado de 0.85rem a 1rem */ } .fc .fc-timegrid-slot-label { font-size: 1rem; /* Aumentado de 0.8rem a 1rem */ padding: 5px; /* Aumentado padding */ font-weight: 600; /* Añadido peso */ } .fc .fc-col-header-cell { padding: 15px 5px; /* Aumentado padding */ font-size: 1.1rem; /* Aumentado de 0.85rem a 1.1rem */ font-weight: 700; /* Añadido peso */ } .fc .fc-timegrid-axis { width: 60px !important; /* Aumentado de 45px a 60px para móvil */ } .fc .fc-event { font-size: 0.95rem; /* Aumentado de 0.75rem a 0.95rem */ padding: 6px; /* Aumentado de 2px a 6px */ font-weight: 600; /* Añadido peso */ } /* Make calendar scrollable horizontally on mobile */ #calendar { overflow-x: auto; overflow-y: visible; min-width: 100%; } /* Improve touch targets for mobile */ .fc .fc-timegrid-slot { min-height: 40px; } .image-wrapper { width: 280px; height: 280px; } .heart-overlay { font-size: 24px; -webkit-text-stroke: 1.5px white; } .like-burst { font-size: 40px; } /* Admin calendar mobile adjustments - SEPARADO DE LA TARJETA para mejor visibilidad */ /* Calendar scroll hint - more prominent on mobile */ .calendar-scroll-hint { font-size: 0.95rem; padding: 16px 18px; background: linear-gradient(135deg, rgba(239, 233, 225, 0.8) 10%, rgba(239, 233, 225, 0.3) 100%); border: 2px solid rgba(239, 233, 225, 0.5); animation: pulse-hint 2s ease-in-out infinite; } @keyframes pulse-hint { 0%, 100% { box-shadow: 0 2px 8px rgba(239, 233, 225, 0.3); } 50% { box-shadow: 0 4px 16px rgba(239, 233, 225, 0.5); } } /* Romper el calendario fuera del contenedor en móvil */ #admin-calendar-view { /* Salir del contenedor padre y ocupar todo el ancho */ position: relative; left: 50%; right: 50%; margin-left: -50vw; margin-right: -50vw; width: 100vw; max-width: 100vw; padding: 20px 10px; margin-top: 30px; margin-bottom: 30px; background: linear-gradient(135deg, #ffffff 0%, #EFE9E1 100%); box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08); } #admin-calendar { min-height: 850px; /* Aumentado de 750px a 850px para mejor visibilidad en móvil */ width: 100%; overflow-x: auto; /* Permitir scroll horizontal en móvil */ -webkit-overflow-scrolling: touch; /* Scroll suave en iOS */ } /* Asegurar que las columnas tengan ancho mínimo en móvil */ #admin-calendar .fc-timegrid-col { min-width: 120px; /* Ancho mínimo en móvil */ } #admin-calendar .fc-timegrid-slot { height: 4.5rem; /* Aumentado de 4rem a 4.5rem */ } #admin-calendar .fc-timegrid-slot-label { font-size: 1.1rem; /* Aumentado de 1rem a 1.1rem */ padding: 6px; font-weight: 700; /* Aumentado de 600 a 700 */ } #admin-calendar .fc-event { font-size: 1.05rem; /* Aumentado de 1rem a 1.05rem */ padding: 10px 12px; /* Aumentado padding */ font-weight: 700; /* Aumentado de 600 a 700 */ } #admin-calendar .fc-toolbar-title { font-size: 1.8rem; /* Aumentado de 1.7rem a 1.8rem */ font-weight: 700; } #admin-calendar .fc-button { padding: 16px 24px; /* Aumentado padding */ font-size: 1.05rem; /* Aumentado de 1rem a 1.05rem */ font-weight: 600; } #admin-calendar .fc-col-header-cell { font-size: 1.2rem; /* Aumentado de 1.15rem a 1.2rem */ padding: 20px 8px; /* Aumentado padding */ font-weight: 700; /* Mantener peso */ } /* Mobile controls - Mantener dentro de la tarjeta principal */ .admin-calendar-controls { flex-direction: column; gap: 14px; padding: 20px 10px; background: rgba(255, 255, 255, 0.6); border-radius: 12px; margin-bottom: 25px; } /* Hide date filters on mobile admin view */ .admin-calendar-controls #filter-date-start, .admin-calendar-controls #filter-date-end { display: none !important; } .admin-stats-summary { gap: 12px; margin-bottom: 25px; grid-template-columns: repeat(2, 1fr); /* 2 columnas en móvil para mejor uso del espacio */ padding: 0 5px; } .admin-calendar-controls input, .admin-calendar-controls select, .admin-calendar-controls button { width: 100%; font-size: 1.05rem; padding: 14px 16px; border-radius: 10px; font-weight: 500; transition: all 0.3s ease; } .admin-calendar-controls input:focus, .admin-calendar-controls select:focus { outline: none; border-color: #EFE9E1; box-shadow: 0 0 0 3px rgba(239, 233, 225, 0.3); transform: translateY(-2px); } .admin-calendar-controls button { background: linear-gradient(135deg, #EFE9E1 0%, #D4C5B9 100%); border: none; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); cursor: pointer; color: #1a1a1a; } .admin-calendar-controls button:active { transform: translateY(1px); box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15); } .stat-card { padding: 20px 15px; /* Aumentado padding */ border-radius: 14px; background: linear-gradient(135deg, #ffffff 0%, #F5F3F0 100%); box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08); border: 2px solid rgba(239, 233, 225, 0.3); transition: all 0.3s ease; } .stat-card:active { transform: translateY(1px); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.12); } .stat-card .stat-icon { font-size: 2.4rem; /* Aumentado de 2.2rem */ margin-bottom: 8px; filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1)); } .stat-card .stat-value { font-size: 1.9rem; /* Aumentado de 1.7rem */ font-weight: 800; color: #1a1a1a; margin: 8px 0; } .stat-card .stat-label { font-size: 0.95rem; font-weight: 600; color: #666; text-transform: uppercase; letter-spacing: 0.5px; } .event-detail-content { padding: 30px 20px; max-width: 95%; border-radius: 20px; max-height: 85vh; overflow-y: auto; } .event-detail-header h3 { font-size: 1.5rem; font-weight: 700; margin-bottom: 12px; } .event-detail-row { padding: 14px 12px; margin-bottom: 12px; border-radius: 12px; background: linear-gradient(135deg, #ffffff 0%, #F5F3F0 100%); border: 2px solid rgba(239, 233, 225, 0.25); transition: all 0.3s ease; } .event-detail-icon { font-size: 1.4rem; margin-right: 12px; filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1)); } .event-detail-value { font-size: 1.05rem; font-weight: 600; color: #1a1a1a; } .event-detail-label { font-size: 0.85rem; font-weight: 600; color: #666; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 4px; } .event-detail-actions { display: flex; flex-direction: column; gap: 12px; margin-top: 25px; } .event-detail-actions button { padding: 16px 20px; font-size: 1.05rem; font-weight: 600; border-radius: 12px; border: none; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); } .event-detail-actions button:active { transform: translateY(1px); box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15); } .btn-primary { background: linear-gradient(135deg, #EFE9E1 0%, #D4C5B9 100%); color: #1a1a1a; } .btn-secondary { background: linear-gradient(135deg, #f5f5f5 0%, #e0e0e0 100%); color: #333; } .btn-whatsapp { background: linear-gradient(135deg, #25D366 0%, #128C7E 100%); color: #fff; } /* Mobile responsive styles for reservation modals */ #time-selection-modal > div { padding: 30px 20px !important; width: 95% !important; border-radius: 20px !important; box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2) !important; } #time-selection-modal h2 { font-size: 1.4rem !important; margin-bottom: 10px !important; font-weight: 700 !important; } #time-selection-modal p { font-size: 0.95rem !important; margin-bottom: 18px !important; color: #666 !important; } #time-slots-container { grid-template-columns: repeat(2, 1fr) !important; gap: 10px !important; max-height: 320px !important; padding: 10px !important; } #time-selection-modal button { padding: 14px 18px !important; font-size: 1rem !important; font-weight: 600 !important; border-radius: 10px !important; transition: all 0.3s ease !important; } #time-selection-modal button:active { transform: scale(0.95) !important; } #reservation-modal > div { padding: 30px 20px !important; width: 95% !important; border-radius: 20px !important; max-height: 90vh !important; overflow-y: auto !important; box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2) !important; } #reservation-modal h2 { font-size: 1.4rem !important; margin-bottom: 18px !important; font-weight: 700 !important; } #reservation-modal label { font-size: 0.9rem !important; margin-bottom: 8px !important; font-weight: 600 !important; color: #333 !important; } #reservation-modal input { padding: 14px !important; font-size: 1rem !important; border-radius: 10px !important; border: 2px solid rgba(239, 233, 225, 0.3) !important; } #reservation-modal input:focus { outline: none !important; border-color: #EFE9E1 !important; box-shadow: 0 0 0 3px rgba(239, 233, 225, 0.3) !important; } #reservation-modal .reservation-info-box { padding: 18px !important; margin-bottom: 22px !important; border-radius: 12px !important; background: linear-gradient(135deg, #F5F3F0 0%, #EFE9E1 100%) !important; } #reservation-date-display, #reservation-time-display { font-size: 1rem !important; font-weight: 600 !important; } #reservation-progress { font-size: 1.2rem !important; font-weight: 700 !important; } #reservation-modal button { padding: 14px !important; font-size: 1rem !important; font-weight: 600 !important; border-radius: 10px !important; } #reservation-cancel, #reservation-confirm { padding: 16px !important; font-size: 1.05rem !important; font-weight: 600 !important; } /* Hide all sections except admin panel on mobile when admin is logged in */ body.mobile-admin-view .hero-section, body.mobile-admin-view .about-section, body.mobile-admin-view .booking-section, body.mobile-admin-view #my-classes-section, body.mobile-admin-view .image-scroll-section, body.mobile-admin-view .contact-section:not(#admin-panel-section), body.mobile-admin-view .reglamento-link { display: none !important; } /* Ensure header and hamburger remain visible for mobile admin */ body.mobile-admin-view .site-header, body.mobile-admin-view #hamburger-container { display: flex !important; } /* Ensure admin panel is visible on mobile when admin is logged in */ body.mobile-admin-view #admin-panel-section { display: block !important; } } @media (max-width: 480px) { .hero-content h1 { font-size: 2rem; letter-spacing: 3px; } .hero-content h2 { font-size: 1.5rem; } .hero-content p { font-size: 1rem; } .booking-section h2, .image-scroll-section h2, .contact-section h2 { font-size: 1.8rem; } .plan-card { max-width: 280px; } #calendar-container { padding: 10px 5px; margin: 20px 5px 0; } /* Admin panel extra small mobile improvements */ #admin-panel-container { padding: 20px 12px !important; margin: 0 5px !important; } #admin-panel-container h3 { font-size: 1.4rem !important; } .admin-stats-summary { gap: 10px; padding: 0; } .stat-card { padding: 16px 12px; } .stat-card .stat-icon { font-size: 2rem; } .stat-card .stat-value { font-size: 1.6rem; } .stat-card .stat-label { font-size: 0.85rem; } .admin-calendar-controls { padding: 15px 8px; gap: 12px; } .admin-calendar-controls input, .admin-calendar-controls button { font-size: 1rem; padding: 13px 14px; } .event-detail-content { padding: 25px 16px; } .event-detail-header h3 { font-size: 1.3rem; } .event-detail-row { padding: 12px 10px; } .event-detail-icon { font-size: 1.3rem; } .event-detail-value { font-size: 1rem; } .calendar-scroll-hint { font-size: 0.9rem; padding: 14px 16px; } } .calendar-info { padding: 12px; } .calendar-info h3 { font-size: 1rem; } .calendar-info p { font-size: 0.85rem; } .calendar-legend { gap: 10px; flex-direction: column; } .legend-item { width: 100%; justify-content: center; } /* Extra small mobile adjustments */ .fc .fc-toolbar-title { font-size: 0.95rem; } .fc .fc-button { padding: 6px 10px; font-size: 0.75rem; } .fc .fc-timegrid-slot { height: 2.5rem; } .fc .fc-timegrid-slot-label { font-size: 0.7rem; } .fc .fc-col-header-cell { font-size: 0.75rem; padding: 8px 2px; } .fc .fc-timegrid-axis { width: 40px !important; } .image-wrapper { width: 260px; height: 260px; } .heart-overlay { font-size: 22px; -webkit-text-stroke: 1px white; } .like-burst { font-size: 35px; } /* Extra small mobile adjustments for reservation modals */ #time-selection-modal > div { padding: 20px 15px !important; } #time-selection-modal h2 { font-size: 1.15rem !important; } #time-selection-modal p { font-size: 0.85rem !important; } #time-slots-container { grid-template-columns: repeat(2, 1fr) !important; gap: 6px !important; max-height: 250px !important; } #reservation-modal > div { padding: 20px 15px !important; max-height: 85vh !important; } #reservation-modal h2 { font-size: 1.15rem !important; } #reservation-modal input { padding: 10px !important; font-size: 0.85rem !important; } #reservation-date-display, #reservation-time-display { font-size: 0.9rem !important; } #reservation-progress { font-size: 1rem !important; } #reservation-cancel, #reservation-confirm { padding: 12px !important; font-size: 0.85rem !important; } } /* ========== Password Toggle Button Mobile Fix ========== */ /* Ensure password toggle eye icon is aligned with input text */ #toggle-register-password, #toggle-login-password { display: inline-flex !important; align-items: center !important; justify-content: center !important; line-height: 1 !important; vertical-align: middle !important; } @media (max-width: 768px) { #toggle-register-password, #toggle-login-password { right: 15px !important; top: calc(50% - 1px) !important; /* Slight adjustment for optical alignment with text */ transform: translateY(-50%) !important; font-size: 1.8rem !important; padding: 0 !important; width: 44px !important; height: 44px !important; z-index: 10 !important; } } @media (max-width: 480px) { #toggle-register-password, #toggle-login-password { right: 10px !important; top: calc(50% - 1px) !important; /* Slight adjustment for optical alignment with text */ font-size: 2rem !important; width: 48px !important; height: 48px !important; } }</style> <script>window.si = window.si || function () { (window.siq = window.siq || []).push(arguments); };</script> <script defer src="/_vercel/speed-insights/script.js"></script> </head><body><div id="page-loader"><div class="loader-content"><div class="planet"><div class="spots"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></div></div><p>Aura Studio</p></div></div><header class="site-header"><img src="auralogo2.png" alt="AURA" class="logo"></header><div id="hamburger-container"><button type="button" id="hamburger-btn" aria-label="Abrir menú de opciones" aria-expanded="false" aria-controls="menu-dropdown"><div class="hamburger-line"></div><div class="hamburger-line"></div><div class="hamburger-line"></div></button><div id="menu-dropdown" role="menu" aria-hidden="true" style="display: none; position: absolute; top: 60px; right: 0; background: linear-gradient(135deg, #ffffff 0%, #EFE9E1 100%); border-radius: 15px; box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15); border: 2px solid rgba(239, 233, 225, 0.3); min-width: 200px; overflow: hidden;"><button type="button" id="menu-register" role="menuitem" aria-label="Registrarse" style="display: block; width: 100%; padding: 15px 20px; background: #fff; border: none; text-align: left; cursor: pointer; color: #333; font-size: 1rem; border-bottom: 1px solid #ccc;"> Registrarse </button><button type="button" id="menu-my-classes" role="menuitem" aria-label="Iniciar Sesión" style="display: block; width: 100%; padding: 15px 20px; background: #fff; border: none; text-align: left; cursor: pointer; color: #333; font-size: 1rem; border-bottom: 1px solid #ccc;"> Iniciar Sesión </button><button type="button" id="menu-admin-login" role="menuitem" aria-label="Login Admin" style="display: block; width: 100%; padding: 15px 20px; background: #fff; border: none; text-align: left; cursor: pointer; color: #333; font-size: 1rem; border-bottom: 1px solid #ccc;"> Login Admin </button><button type="button" id="menu-logout" role="menuitem" aria-label="Cerrar Sesión" style="display: none; width: 100%; padding: 15px 20px; background: #fff; border: none; text-align: left; cursor: pointer; color: #333; font-size: 1rem;"> Cerrar Sesión </button><button type="button" id="menu-admin-logout" role="menuitem" aria-label="Cerrar Sesión Admin" style="display: none; width: 100%; padding: 15px 20px; background: #fff; border: none; text-align: left; cursor: pointer; color: #333; font-size: 1rem;"> Cerrar Sesión Admin </button><button type="button" id="menu-back" role="menuitem" aria-label="Volver Atrás" style="display: none; width: 100%; padding: 15px 20px; background: #fff; border: none; text-align: left; cursor: pointer; color: #333; font-size: 1rem; border-top: 1px solid #ccc;"> Volver Atrás </button></div></div><div id="register-modal" role="dialog" aria-labelledby="register-modal-title" aria-modal="true" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.6); z-index:9999; justify-content:center; align-items:center;"><div style="background:#fff; padding:40px; border-radius:20px; max-width:400px; width:90%; text-align:center; box-shadow:0 20px 60px rgba(246,200,199,0.4); border:3px solid #EFE9E1;"><h2 id="register-modal-title" style="color:#333; margin-bottom:15px;">¡Bienvenida a Aura!</h2><p style="color:#666; margin-bottom:20px;">Ingresa tus datos para recibir un código de verificación</p><input type="text" id="quick-name" placeholder="Nombre completo" aria-label="Nombre completo" autocomplete="name" required style="width:100%; padding:15px; margin-bottom:15px; border:1px solid #EFE9E1; border-radius:12px; font-size:1.1rem;"><div style="display: flex; align-items: center; gap: 10px; margin-bottom: 20px;"><span style="font-size: 1.3rem; font-weight: 600; color: #999; background: #f8f8f8; padding: 15px 12px; border-radius: 12px 0 0 12px; border: 1px solid #EFE9E1; border-right: none;">+52</span><input type="tel" id="quick-phone-digits" placeholder="715 159 6586" maxlength="10" pattern="[0-9]{10}" inputmode="numeric" autocomplete="tel" style="flex: 1; padding: 15px; border: 1px solid #EFE9E1; border-radius: 0 12px 12px 0; font-size: 1.1rem;" required></div><input type="hidden" id="quick-password" value="not-used-anymore"><div style="display:flex; gap:15px;"><button type="button" onclick="guardarRegistroLocalYPagar()" style="flex:1; background:#EFE9E1; color:#000; padding:15px; border:none; border-radius:12px; font-size:1.1rem; cursor:pointer;">Continuar</button><button type="button" onclick="document.getElementById('register-modal').style.display='none'" style="flex:1; background:#eee; color:#666; padding:15px; border:none; border-radius:12px; font-size:1.1rem; cursor:pointer;">Cancelar</button></div></div></div><div id="user-login-modal" role="dialog" aria-labelledby="user-login-modal-title" aria-modal="true" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.6); z-index:9999; justify-content:center; align-items:center;"><div style="background:#fff; padding:40px; border-radius:20px; max-width:400px; width:90%; text-align:center; box-shadow:0 20px 60px rgba(246,200,199,0.4); border:3px solid #EFE9E1;"><h2 id="user-login-modal-title" style="color:#333; margin-bottom:15px;">Mis Clases</h2><p style="color:#666; margin-bottom:20px;">Ingresa tu teléfono para recibir un código de verificación</p><div id="user-login-error" style="display: none; background: linear-gradient(135deg, #EFE9E1 0%, #EFE9E1 100%); color: #000; padding: 12px; border-radius: 10px; margin-bottom: 15px; text-align: center; font-size: 0.9rem;"></div><form id="user-login-form" onsubmit="return false;"><div style="display: flex; align-items: center; gap: 10px; margin-bottom: 20px;"><span style="font-size: 1.3rem; font-weight: 600; color: #999; background: #f8f8f8; padding: 15px 12px; border-radius: 12px 0 0 12px; border: 1px solid #EFE9E1; border-right: none;">+52</span><input type="tel" id="user-login-phone" placeholder="10 dígitos" maxlength="10" pattern="[0-9]{10}" inputmode="numeric" autocomplete="tel" style="flex: 1; padding: 15px; border: 1px solid #EFE9E1; border-radius: 0 12px 12px 0; font-size: 1.1rem;" required></div><div style="display:flex; gap:15px;"><button type="submit" style="flex:1; background:#EFE9E1; color:#000; padding:15px; border:none; border-radius:12px; font-size:1.1rem; cursor:pointer;">Enviar Código</button><button type="button" id="user-login-cancel" style="flex:1; background:#eee; color:#666; padding:15px; border:none; border-radius:12px; font-size:1.1rem; cursor:pointer;">Cancelar</button></div></form></div></div><div id="recaptcha-container" style="display: none;"></div><div id="verification-code-modal-register" role="dialog" aria-labelledby="verification-code-title-register" aria-modal="true" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.6); z-index:10000; justify-content:center; align-items:center;"><div style="background:#fff; padding:40px; border-radius:20px; max-width:400px; width:90%; text-align:center; box-shadow:0 20px 60px rgba(246,200,199,0.4); border:3px solid #EFE9E1;"><h2 id="verification-code-title-register" style="color:#333; margin-bottom:15px;">Verificación de Teléfono</h2><p style="color:#666; margin-bottom:20px;">Ingresa el código de 6 dígitos enviado a tu teléfono</p><div id="verification-error-register" style="display: none; background: rgba(197, 17, 98, 0.1); color: #C51162; padding: 12px; border-radius: 10px; margin-bottom: 15px; text-align: center; font-size: 0.9rem;"></div><input type="text" id="verification-code-input-register" placeholder="000000" maxlength="6" pattern="[0-9]{6}" inputmode="numeric" autocomplete="one-time-code" style="width:100%; padding:15px; margin-bottom:15px; border:1px solid #EFE9E1; border-radius:12px; font-size:1.5rem; text-align:center; letter-spacing:0.5rem;" required><div style="display:flex; gap:15px;"><button type="button" id="verify-code-btn-register" style="flex:1; background:#EFE9E1; color:#000; padding:15px; border:none; border-radius:12px; font-size:1.1rem; cursor:pointer;">Verificar</button><button type="button" id="cancel-verification-btn-register" style="flex:1; background:#eee; color:#666; padding:15px; border:none; border-radius:12px; font-size:1.1rem; cursor:pointer;">Cancelar</button></div><button type="button" id="resend-code-btn-register" style="margin-top:15px; background:none; border:none; color:#666; text-decoration:underline; cursor:pointer; font-size:0.95rem;">Reenviar código</button></div></div><div id="verification-code-modal-login" role="dialog" aria-labelledby="verification-code-title-login" aria-modal="true" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.6); z-index:10000; justify-content:center; align-items:center;"><div style="background:#fff; padding:40px; border-radius:20px; max-width:400px; width:90%; text-align:center; box-shadow:0 20px 60px rgba(246,200,199,0.4); border:3px solid #EFE9E1;"><h2 id="verification-code-title-login" style="color:#333; margin-bottom:15px;">Verificación de Teléfono</h2><p style="color:#666; margin-bottom:20px;">Ingresa el código de 6 dígitos enviado a tu teléfono</p><div id="verification-error-login" style="display: none; background: rgba(197, 17, 98, 0.1); color: #C51162; padding: 12px; border-radius: 10px; margin-bottom: 15px; text-align: center; font-size: 0.9rem;"></div><input type="text" id="verification-code-input-login" placeholder="000000" maxlength="6" pattern="[0-9]{6}" inputmode="numeric" autocomplete="one-time-code" style="width:100%; padding:15px; margin-bottom:15px; border:1px solid #EFE9E1; border-radius:12px; font-size:1.5rem; text-align:center; letter-spacing:0.5rem;" required><div style="display:flex; gap:15px;"><button type="button" id="verify-code-btn-login" style="flex:1; background:#EFE9E1; color:#000; padding:15px; border:none; border-radius:12px; font-size:1.1rem; cursor:pointer;">Verificar</button><button type="button" id="cancel-verification-btn-login" style="flex:1; background:#eee; color:#666; padding:15px; border:none; border-radius:12px; font-size:1.1rem; cursor:pointer;">Cancelar</button></div><button type="button" id="resend-code-btn-login" style="margin-top:15px; background:none; border:none; color:#666; text-decoration:underline; cursor:pointer; font-size:0.95rem;">Reenviar código</button></div></div><div id="time-selection-modal" role="dialog" aria-labelledby="time-modal-title" aria-modal="true" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); z-index: 2000; justify-content: center; align-items: center;"><div style="background: linear-gradient(135deg, #ffffff 0%, #EFE9E1 100%); padding: 40px; border-radius: 20px; box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2); max-width: 450px; width: 90%; border: 2px solid rgba(239, 233, 225, 0.3);"><h2 id="time-modal-title" style="color: #333; margin-bottom: 10px; font-size: 1.8rem; font-weight: 600;">Selecciona tu Horario</h2><p id="time-modal-date" style="color: #666; margin-bottom: 20px; font-size: 1rem; font-weight: 500;"></p><div style="margin-bottom: 20px;"><p style="color: #666; font-weight: 500; margin-bottom: 10px;">🌅 Horarios Disponibles:</p><div id="time-slots-container" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; max-height: 400px; overflow-y: auto; padding: 10px; background: rgba(239, 233, 225, 0.05); border-radius: 10px;"></div></div><div style="display: flex; gap: 10px;"><button type="button" id="time-cancel" style="flex: 1; background: #e0e0e0; color: #666; padding: 12px 20px; border: 1px solid #ccc; font-size: 1rem; cursor: pointer;"> Cancelar </button></div></div></div><div id="create-password-modal" role="dialog" aria-labelledby="create-password-title" aria-modal="true" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.6); z-index: 2200; justify-content: center; align-items: center;"><div style="background: linear-gradient(135deg, #ffffff 0%, #EFE9E1 100%); padding: 40px; border-radius: 20px; box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2); max-width: 450px; width: 90%; border: 2px solid rgba(239, 233, 225, 0.3);"><h2 id="create-password-title" style="color: #333; margin-bottom: 20px; font-size: 1.8rem; font-weight: 600; text-align: center;">¡Encontramos tus clases!</h2><p style="color: #666; margin-bottom: 25px; text-align: center; line-height: 1.6;">Tienes clases agendadas pero tu cuenta no tiene contraseña configurada. Por favor, crea una contraseña para poder acceder a tus clases.</p><div style="margin-bottom: 25px;"><label for="legacy-new-password" style="display: block; color: #666; font-weight: 600; margin-bottom: 8px; font-size: 0.95rem;">Nueva Contraseña (mínimo 4 caracteres)</label><div style="position: relative;"><input type="password" id="legacy-new-password" placeholder="Crea tu contraseña" autocomplete="new-password" style="width: 100%; padding: 14px; padding-right: 45px; border: 2px solid rgba(239, 233, 225, 0.3); border-radius: 10px; font-size: 1rem; transition: all 0.3s ease;" onfocus="this.style.borderColor='#EFE9E1'" onblur="this.style.borderColor='rgba(239, 233, 225, 0.3)'" /><button type="button" id="toggle-legacy-password" aria-label="Mostrar contraseña" style="position: absolute; right: 12px; top: 50%; transform: translateY(-50%); background: none; border: none; cursor: pointer; font-size: 1.5rem; padding: 0; line-height: 1; color: #666; transition: color 0.3s ease; display: flex; align-items: center; justify-content: center;" onmouseover="this.style.color='#333'" onmouseout="this.style.color='#666'">👁️</button></div></div><div id="legacy-password-error" style="display: none; color: #C51162; background: rgba(197, 17, 98, 0.1); padding: 12px; border-radius: 8px; margin-bottom: 15px; font-size: 0.95rem;"></div><div style="display: flex; gap: 12px;"><button type="button" id="legacy-password-cancel" style="flex: 1; background: #e0e0e0; color: #666; padding: 16px; border: 1px solid #ccc; border-radius: 10px; font-size: 1.05rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease;" onmouseover="this.style.background='#d0d0d0'" onmouseout="this.style.background='#e0e0e0'"> Cancelar </button><button type="button" id="legacy-password-confirm" style="flex: 2; background: linear-gradient(135deg, #EFE9E1 0%, #EFE9E1 100%); color: #000; padding: 16px; border: 2px solid #EFE9E1; border-radius: 10px; font-size: 1.05rem; font-weight: 700; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(239, 233, 225, 0.4);" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 20px rgba(239, 233, 225, 0.6)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 15px rgba(239, 233, 225, 0.4)'"> Crear Contraseña </button></div></div></div><div id="reservation-modal" role="dialog" aria-modal="true" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); z-index: 2100; justify-content: center; align-items: center;"><div style="background: linear-gradient(135deg, #ffffff 0%, #EFE9E1 100%); padding: 40px; border-radius: 20px; box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2); max-width: 500px; width: 90%; border: 2px solid rgba(239, 233, 225, 0.3);"><h2 style="color: #333; margin-bottom: 20px; font-size: 1.8rem; font-weight: 600; text-align: center;">Confirma tu Reserva</h2><div style="background: rgba(239, 233, 225, 0.1); padding: 20px; border-radius: 12px; margin-bottom: 25px; border: 1px solid rgba(239, 233, 225, 0.3); max-height: 250px; overflow-y: auto;"><div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;"><span style="font-size: 1.5rem;">📅</span><span id="reservation-date-display" style="color: #333; font-weight: 600; font-size: 1.1rem;"></span></div><div style="display: flex; align-items: flex-start; gap: 10px;"><span style="font-size: 1.5rem;">🕐</span><span id="reservation-time-display" style="color: #666; font-weight: 500; font-size: 1.05rem; flex: 1;"></span></div></div><div style="margin-bottom: 25px;"><label for="reservation-name" style="display: block; color: #666; font-weight: 600; margin-bottom: 8px; font-size: 0.95rem;">Nombre Completo</label><input type="text" id="reservation-name" placeholder="Ej: María García" autocomplete="name" style="width: 100%; padding: 14px; border: 2px solid rgba(239, 233, 225, 0.3); border-radius: 10px; font-size: 1rem; transition: all 0.3s ease;" onfocus="this.style.borderColor='#EFE9E1'" onblur="this.style.borderColor='rgba(239, 233, 225, 0.3)'" /></div><div style="margin-bottom: 25px;"><label for="reservation-phone" style="display: block; color: #666; font-weight: 600; margin-bottom: 8px; font-size: 0.95rem;">Teléfono (10 dígitos)</label><div style="display: flex; align-items: center; gap: 8px;"><span style="padding: 14px; background: rgba(239, 233, 225, 0.1); border: 2px solid rgba(239, 233, 225, 0.3); border-radius: 10px; font-weight: 600; color: #333;">+52</span><input type="tel" id="reservation-phone" placeholder="1234567890" maxlength="10" pattern="[0-9]{10}" autocomplete="tel" style="flex: 1; padding: 14px; border: 2px solid rgba(239, 233, 225, 0.3); border-radius: 10px; font-size: 1rem; transition: all 0.3s ease;" onfocus="this.style.borderColor='#EFE9E1'" onblur="this.style.borderColor='rgba(239, 233, 225, 0.3)'" /></div><p style="color: #999; font-size: 0.85rem; margin-top: 6px;">Solo números, sin espacios ni guiones</p></div><div id="reservation-password-container" style="margin-bottom: 25px;"><label for="reservation-password" style="display: block; color: #666; font-weight: 600; margin-bottom: 8px; font-size: 0.95rem;">Contraseña (mínimo 4 caracteres)</label><div style="position: relative;"><input type="password" id="reservation-password" placeholder="Crea tu contraseña" autocomplete="new-password" style="width: 100%; padding: 14px; padding-right: 45px; border: 2px solid rgba(239, 233, 225, 0.3); border-radius: 10px; font-size: 1rem; transition: all 0.3s ease;" onfocus="this.style.borderColor='#EFE9E1'" onblur="this.style.borderColor='rgba(239, 233, 225, 0.3)'" /><button type="button" id="toggle-reservation-password" aria-label="Mostrar contraseña" style="position: absolute; right: 12px; top: 50%; transform: translateY(-50%); background: none; border: none; cursor: pointer; font-size: 1.5rem; padding: 0; line-height: 1; color: #666; transition: color 0.3s ease; display: flex; align-items: center; justify-content: center;" onmouseover="this.style.color='#333'" onmouseout="this.style.color='#666'">👁️</button></div><p style="color: #999; font-size: 0.85rem; margin-top: 6px;">Para poder ver tus clases después</p></div><div style="background: rgba(239, 233, 225, 0.1); padding: 15px; border-radius: 10px; margin-bottom: 25px; text-align: center;"><p style="color: #666; font-size: 0.95rem; margin-bottom: 5px;">Progreso de reservas</p><p id="reservation-progress" style="color: #333; font-weight: 700; font-size: 1.3rem;"></p></div><div style="display: flex; gap: 12px;"><button type="button" id="reservation-cancel" style="flex: 1; background: #e0e0e0; color: #666; padding: 16px; border: 1px solid #ccc; border-radius: 10px; font-size: 1.05rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease;" onmouseover="this.style.background='#d0d0d0'" onmouseout="this.style.background='#e0e0e0'"> Cancelar </button><button type="button" id="reservation-confirm" style="flex: 2; background: linear-gradient(135deg, #EFE9E1 0%, #EFE9E1 100%); color: #000; padding: 16px; border: 2px solid #EFE9E1; border-radius: 10px; font-size: 1.05rem; font-weight: 700; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(239, 233, 225, 0.4);" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 20px rgba(239, 233, 225, 0.6)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 15px rgba(239, 233, 225, 0.4)'"> Reservar y pagar ahora </button></div></div></div><section class="hero-section"><video id="hero-video" class="hero-video-background" autoplay loop muted playsinline preload="auto" disablepictureinpicture disableremoteplayback><source src="videoaura155.mp4" type="video/mp4"></video><div class="hero-overlay"></div><div class="hero-content"><h1>Más que pilates,</h1><h2>una forma de vida</h2><a href="#booking" class="hero-btn">Agendar Clase</a></div></section><section class="about-section"><h2>Pilates Studio</h2><div class="pilates-cards-container"><div class="pilates-card" onclick="togglePilatesCard(this)"><img class="pilates-card-image" src="https://images.pexels.com/photos/14843495/pexels-photo-14843495.jpeg" alt="Pilates Studio"><div class="pilates-card-overlay"><h3 class="pilates-card-title">Pilates Studio</h3><p class="pilates-card-text">En Aura Studio, nuestra misión es promover el bienestar físico y mental a través del Pilates. Creemos que cada persona puede alcanzar su máximo potencial con las herramientas adecuadas.</p></div></div><div class="pilates-card" onclick="togglePilatesCard(this)"><img class="pilates-card-image" src="https://images.pexels.com/photos/5012112/pexels-photo-5012112.jpeg" alt="Pilates Instructor"><div class="pilates-card-overlay"><h3 class="pilates-card-title">Pilates Instructor</h3><p class="pilates-card-text">Ofrecemos un enfoque personalizado en cada clase de Pilates, adaptando los ejercicios a las necesidades individuales de nuestras alumnas. Nuestro equipo de instructoras certificadas está comprometida con tu progreso y salud.</p></div></div><div class="pilates-card" onclick="togglePilatesCard(this)"><img class="pilates-card-image" src="https://images.pexels.com/photos/6975235/pexels-photo-6975235.jpeg" alt="Pilates Practice"><div class="pilates-card-overlay"><h3 class="pilates-card-title">Pilates Practice</h3><p class="pilates-card-text">Entrena con nosotras, mejora la flexibilidad, la fuerza y la postura. En Aura Studio, te enseñamos cómo estos beneficios pueden transformar tu vida diaria y ayudarte a lograr un equilibrio integral.</p></div></div></div></section><section id="booking" class="booking-section"><div class="booking-container"><h2>Citas en Línea</h2><div class="plans-grid"><div class="plan-card"><div class="bg"></div><div class="blob"></div><h3>1 Clase</h3><div class="price">$150</div><button type="button" class="plan-btn" data-title="1 Clases" data-price="150">Agendar Clase</button></div><div class="plan-card"><div class="bg"></div><div class="blob"></div><h3>4 Clases</h3><div class="price">$540</div><div class="savings">Ahorras $60</div><button type="button" class="plan-btn" data-title="4 Clases" data-price="540">Agendar Clase</button></div><div class="plan-card"><div class="bg"></div><div class="blob"></div><h3>8 Clases</h3><div class="price">$1000</div><div class="savings">Ahorras $200</div><button type="button" class="plan-btn" data-title="8 Clases" data-price="1000">Agendar Clase</button></div><div class="plan-card"><div class="bg"></div><div class="blob"></div><h3>12 Clases</h3><div class="price">$1400</div><div class="savings">Ahorras $400</div><button type="button" class="plan-btn" data-title="12 Clases" data-price="1400">Agendar Clase</button></div></div><div id="calendar-container"><div class="calendar-info"><h3>📅 Selecciona tus Clases</h3><p><strong>Horarios Disponibles:</strong></p><p>🌅 Mañana: 6:00 AM - 11:00 AM</p><p>🌆 Tarde: 5:00 PM - 7:00 PM</p><p><strong>Días:</strong> Lunes a Sábado</p><div class="calendar-legend"><div class="legend-item"><div class="legend-color legend-available"></div><span>Horarios Disponibles</span></div><div class="legend-item"><div class="legend-color legend-booked"></div><span>Tus Clases Reservadas</span></div></div></div><div id="class-counter-display"><h3>📋 Progreso de Selección</h3><p class="counter-text">Has elegido <span class="counter-number" id="counter-current">0</span> de <span class="counter-number" id="counter-total">0</span> clases</p></div><div id="calendar"></div><div id="payment-button-container"><button type="button" id="final-payment-btn"> 💳 Pagar y confirmar mis <span id="payment-btn-count">0</span> clases </button></div></div></div></section><section id="my-classes-section" class="my-classes-section"><h2 id="my-classes-greeting">Mis Clases</h2><div class="my-classes-container"><div id="my-classes-loading" class="my-classes-loading" style="display: none;"><div class="my-classes-loading-spinner"></div><p style="margin-top: 20px; font-size: 1.1rem;">Cargando tus clases...</p></div><div id="my-classes-empty" class="my-classes-empty" style="display: none;"><div class="my-classes-empty-icon">📅</div><p>No tienes clases agendadas aún.</p><p style="margin-top: 10px; font-size: 1rem; color: #999;"><a href="#booking" style="color: #000000; text-decoration: underline;">Agenda tu primera clase aquí</a></p></div><div id="my-classes-grid" class="my-classes-grid"></div><div id="my-classes-whatsapp" style="display: none;"></div></div></section><section class="image-scroll-section"><h2>Nuestras Instalaciones</h2><div class="image-scroll-container"><div class="image-wrapper" onclick="likeImage(this)"><img src="STUDIO1.jpeg" alt="Studio 1" class="scroll-image"><div class="heart-overlay">♡</div></div><div class="image-wrapper" onclick="likeImage(this)"><img src="STUDIO2.jpeg" alt="Studio 2" class="scroll-image"><div class="heart-overlay">♡</div></div><div class="image-wrapper" onclick="likeImage(this)"><img src="STUDIO3.jpeg" alt="Studio 3" class="scroll-image"><div class="heart-overlay">♡</div></div><div class="image-wrapper" onclick="likeImage(this)"><img src="STUDIO4.jpeg" alt="Studio 4" class="scroll-image"><div class="heart-overlay">♡</div></div><div class="image-wrapper" onclick="likeImage(this)"><img src="STUDIO5.jpeg" alt="Studio 5" class="scroll-image"><div class="heart-overlay">♡</div></div><div class="image-wrapper" onclick="likeImage(this)"><img src="STUDIO6.jpeg" alt="Studio 6" class="scroll-image"><div class="heart-overlay">♡</div></div><div class="image-wrapper" onclick="likeImage(this)"><img src="STUDIO7.jpeg" alt="Studio 7" class="scroll-image"><div class="heart-overlay">♡</div></div><div class="image-wrapper" onclick="likeImage(this)"><img src="STUDIO8.jpeg" alt="Studio 8" class="scroll-image"><div class="heart-overlay">♡</div></div><div class="image-wrapper" onclick="likeImage(this)"><img src="STUDIO9.jpeg" alt="Studio 9" class="scroll-image"><div class="heart-overlay">♡</div></div><div class="image-wrapper" onclick="likeImage(this)"><img src="STUDIO10.jpeg" alt="Studio 10" class="scroll-image"><div class="heart-overlay">♡</div></div><div class="image-wrapper" onclick="likeImage(this)"><img src="STUDIO11.jpeg" alt="Studio 11" class="scroll-image"><div class="heart-overlay">♡</div></div><div class="image-wrapper" onclick="likeImage(this)"><img src="STUDIO12.jpeg" alt="Studio 12" class="scroll-image"><div class="heart-overlay">♡</div></div><div class="image-wrapper" onclick="likeImage(this)"><img src="STUDIO13.jpeg" alt="Studio 13" class="scroll-image"><div class="heart-overlay">♡</div></div></div></section><div id="admin-login-modal" role="dialog" aria-labelledby="admin-login-modal-title" aria-modal="true" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); z-index: 2000; justify-content: center; align-items: center;"><div style="background: linear-gradient(135deg, #ffffff 0%, #EFE9E1 100%); padding: 40px; border-radius: 20px; box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2); max-width: 400px; width: 90%; border: 2px solid rgba(239, 233, 225, 0.3);"><h2 id="admin-login-modal-title" style="color: #333; margin-bottom: 10px; font-size: 1.8rem; font-weight: 600;">Acceso de Administrador</h2><p style="color: #666; margin-bottom: 20px; font-size: 0.95rem;">Ingresa con tu cuenta de administrador</p><div id="login-error" style="display: none; background: linear-gradient(135deg, #EFE9E1 0%, #EFE9E1 100%); color: #000; padding: 12px; border-radius: 10px; margin-bottom: 15px; text-align: center; font-size: 0.9rem;"></div><form id="admin-login-form" onsubmit="return false;"><div style="margin-bottom: 15px;"><label for="admin-email" style="display: block; margin-bottom: 5px; color: #666; font-weight: 500; font-size: 0.95rem;">Correo Electrónico</label><input type="email" id="admin-email" required autocomplete="username" style="width: 100%; padding: 12px; border: 1px solid rgba(239, 233, 225, 0.5); border-radius: 10px; font-size: 1rem; transition: all 0.3s ease; box-sizing: border-box;"></div><div style="margin-bottom: 20px;"><label for="admin-password" style="display: block; margin-bottom: 5px; color: #666; font-weight: 500; font-size: 0.95rem;">Contraseña</label><input type="password" id="admin-password" required autocomplete="current-password" style="width: 100%; padding: 12px; border: 1px solid rgba(239, 233, 225, 0.5); border-radius: 10px; font-size: 1rem; transition: all 0.3s ease; box-sizing: border-box;"></div><div style="display: flex; gap: 10px;"><button type="submit" style="flex: 1; background: #EFE9E1; color: #000; padding: 12px 20px; border: 1px solid #ccc; font-size: 1rem; cursor: pointer;"> Iniciar Sesión </button><button type="button" id="admin-login-cancel" style="flex: 1; background: #e0e0e0; color: #666; padding: 12px 20px; border: 1px solid #ccc; font-size: 1rem; cursor: pointer;"> Cancelar </button></div></form></div></div><section id="admin-panel-section" class="contact-section" style="display: none;"><h2 style="font-size: 2rem; margin-bottom: 15px; font-weight: 700;">Panel de Administrador</h2><p style="margin-bottom: 12px; font-size: 1.1rem; color: #666;">Hola <span id="admin-email-display" style="color: #1a1a1a; font-weight: 600;">Michel</span></p><button type="button" id="admin-logout-btn" class="contact-btn" style="margin-bottom: 30px; padding: 14px 32px; font-size: 1.05rem; font-weight: 600; border-radius: 10px; background: linear-gradient(135deg, #f44336 0%, #c62828 100%); border: none; box-shadow: 0 4px 12px rgba(244, 67, 54, 0.3); transition: all 0.3s ease;">Cerrar Sesión</button><div id="admin-panel-container" style="max-width: 1400px; margin: 0 auto; background: linear-gradient(135deg, #ffffff 0%, #EFE9E1 100%); padding: 50px; border-radius: 25px; box-shadow: 0 15px 50px rgba(0, 0, 0, 0.12); border: 2px solid rgba(239, 233, 225, 0.3);"><div style="margin-bottom: 40px;"><h3 style="color: #333; margin: 0; font-size: 2.2rem; font-weight: 600; text-align: center; letter-spacing: 1px;">📅 Calendario de Reservas</h3></div><div id="reservations-loading" style="text-align: center; padding: 40px; color: #666;"><p style="font-size: 1.1rem;">Cargando reservas...</p></div><div id="admin-stats-section" style="display: none;"><div class="admin-stats-summary"><div class="stat-card"><div class="stat-icon">📊</div><div class="stat-value" id="stat-total-reservations">0</div><div class="stat-label">Total Reservas</div></div><div class="stat-card"><div class="stat-icon">📅</div><div class="stat-value" id="stat-this-week">0</div><div class="stat-label">Esta Semana</div></div><div class="stat-card"><div class="stat-icon">👥</div><div class="stat-value" id="stat-unique-clients">0</div><div class="stat-label">Clientes Únicos</div></div><div class="stat-card"><div class="stat-icon">⭐</div><div class="stat-value" id="stat-upcoming">0</div><div class="stat-label">Próximas</div></div></div></div><div id="admin-calendar-controls" style="display: none;"><div class="admin-calendar-controls"><input type="text" id="search-client" placeholder="🔍 Buscar por nombre o teléfono..." style="flex: 1; min-width: 200px;"><input type="date" id="filter-date-start" placeholder="Desde"><input type="date" id="filter-date-end" placeholder="Hasta"><button type="button" id="btn-export-calendar">📥 Exportar</button><button type="button" id="btn-export-availability">📊 Exportar Disponibilidad</button><button type="button" id="btn-schedule-admin">📅 Agendar</button></div></div><div id="search-results-container" style="display: none; margin-bottom: 20px;"><h4 style="color: #333; font-size: 1.2rem; margin-bottom: 15px;">Participantes</h4><div id="search-results-list"></div></div><div id="admin-calendar-view" style="display: none;"><div class="calendar-scroll-hint"><span>💡 Consejo:</span> Desliza horizontalmente para ver todos los días de la semana → </div><div id="admin-calendar"></div></div><div id="no-reservations" style="display: none; text-align: center; padding: 40px; color: #666;"><p style="font-size: 1.1rem;">No hay reservas en este momento.</p></div></div><div id="event-detail-modal" class="event-detail-modal"><div class="event-detail-content"><div class="event-detail-header"><h3>👤 Detalle de Reserva</h3><button type="button" class="event-detail-close" id="event-detail-close">×</button></div><div class="event-detail-body"><div class="event-detail-row"><div class="event-detail-icon">👤</div><div class="event-detail-info"><div class="event-detail-label">Cliente</div><div class="event-detail-value" id="detail-client-name">-</div></div></div><div class="event-detail-row"><div class="event-detail-icon">📱</div><div class="event-detail-info"><div class="event-detail-label">Teléfono</div><div class="event-detail-value" id="detail-client-email">-</div></div></div><div class="event-detail-row"><div class="event-detail-icon">📅</div><div class="event-detail-info"><div class="event-detail-label">Fecha</div><div class="event-detail-value" id="detail-date">-</div></div></div><div class="event-detail-row"><div class="event-detail-icon">🕐</div><div class="event-detail-info"><div class="event-detail-label">Horario</div><div class="event-detail-value" id="detail-time">-</div></div></div><div class="event-detail-row" id="detail-notes-row" style="display: none;"><div class="event-detail-icon">📝</div><div class="event-detail-info"><div class="event-detail-label">Notas</div><div class="event-detail-value" id="detail-notes">-</div></div></div></div><div class="event-detail-actions"><button type="button" class="btn-secondary" id="detail-close-btn">Cerrar</button><button type="button" class="btn-edit" id="detail-edit-btn" style="display: none;">✏️ Editar</button><button type="button" class="btn-primary" id="detail-contact-btn">📧 Contactar</button><button type="button" class="btn-whatsapp" id="detail-whatsapp-btn">📱 Mandar clases por WhatsApp</button></div></div></div><div id="edit-reservation-modal" class="event-detail-modal"><div class="event-detail-content"><div class="event-detail-header"><h3>✏️ Editar Reserva</h3><button type="button" class="event-detail-close" id="edit-reservation-close">×</button></div><div class="event-detail-body"><div class="event-detail-row"><div class="event-detail-icon">👤</div><div class="event-detail-info"><div class="event-detail-label">Cliente</div><div class="event-detail-value" id="edit-client-name">-</div></div></div><div class="event-detail-row"><div class="event-detail-icon">📅</div><div class="event-detail-info" style="width: 100%;"><div class="event-detail-label">Nueva Fecha *</div><input type="date" id="edit-reservation-date" class="modal-input-field" required></div></div><div class="event-detail-row"><div class="event-detail-icon">🕐</div><div class="event-detail-info" style="width: 100%;"><div class="event-detail-label">Nueva Hora *</div><select id="edit-reservation-time" class="modal-input-field" required><option value="">Selecciona una hora</option><option value="06:00">06:00 AM</option><option value="07:00">07:00 AM</option><option value="08:00">08:00 AM</option><option value="09:00">09:00 AM</option><option value="10:00">10:00 AM</option><option value="11:00">11:00 AM</option><option value="12:00">12:00 PM</option><option value="13:00">01:00 PM</option><option value="14:00">02:00 PM</option><option value="15:00">03:00 PM</option><option value="16:00">04:00 PM</option><option value="17:00">05:00 PM</option><option value="18:00">06:00 PM</option><option value="19:00">07:00 PM</option></select></div></div></div><div class="event-detail-actions"><button type="button" class="btn-secondary" id="edit-reservation-cancel">Cancelar</button><button type="button" class="btn-danger" id="edit-reservation-delete">🗑️ Eliminar Clase</button><button type="button" class="btn-primary" id="edit-reservation-save">💾 Guardar Cambios</button></div></div></div><div id="unique-clients-modal" class="event-detail-modal"><div class="event-detail-content unique-clients-modal-content"><div class="event-detail-header"><h3>👥 Clientes Únicos</h3><button type="button" class="event-detail-close" id="unique-clients-close" aria-label="Cerrar modal de clientes únicos">×</button></div><div class="event-detail-body unique-clients-list-body" id="unique-clients-list"></div><div class="event-detail-actions"><button type="button" class="btn-secondary" id="unique-clients-close-btn">Cerrar</button></div></div></div><div id="admin-schedule-modal" class="event-detail-modal"><div class="event-detail-content" id="admin-schedule-modal-content"><div id="admin-schedule-step1"><div class="event-detail-header"><h3>📅 Agendar Nueva Clase - Paso 1/2</h3><button type="button" class="event-detail-close" id="admin-schedule-close">×</button></div><div class="event-detail-body"><div class="event-detail-row"><div class="event-detail-icon">👤</div><div class="event-detail-info" style="width: 100%;"><div class="event-detail-label">Nombre del Cliente *</div><input type="text" id="admin-schedule-name" required style="width: 100%; padding: 10px; border: 2px solid rgba(239, 233, 225, 0.3); border-radius: 8px; font-size: 1rem; margin-top: 5px;"></div></div><div class="event-detail-row"><div class="event-detail-icon">📱</div><div class="event-detail-info" style="width: 100%;"><div class="event-detail-label">Teléfono * (10 dígitos)</div><input type="tel" id="admin-schedule-phone" required pattern="[0-9]{10}" placeholder="10 dígitos sin guiones" style="width: 100%; padding: 10px; border: 2px solid rgba(239, 233, 225, 0.3); border-radius: 8px; font-size: 1rem; margin-top: 5px;"></div></div><div class="event-detail-row"><div class="event-detail-icon">📦</div><div class="event-detail-info" style="width: 100%;"><div class="event-detail-label">Número de Clases *</div><div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 10px; margin-top: 10px;"><button type="button" class="admin-package-btn" data-classes="1">1 Clase</button><button type="button" class="admin-package-btn" data-classes="4">4 Clases</button><button type="button" class="admin-package-btn" data-classes="8">8 Clases</button><button type="button" class="admin-package-btn" data-classes="12">12 Clases</button></div><input type="hidden" id="admin-schedule-package" required></div></div></div><div class="event-detail-actions"><button type="button" class="btn-secondary" id="admin-schedule-cancel-step1">Cancelar</button><button type="button" class="btn-primary" id="admin-schedule-next">Siguiente →</button></div></div><div id="admin-schedule-step2" style="display: none;"><div class="event-detail-header"><h3>📅 Seleccionar Horarios - Paso 2/2</h3><button type="button" class="event-detail-close" id="admin-schedule-close-step2">×</button></div><div class="event-detail-body"><div style="background: linear-gradient(135deg, #B8A99A 0%, #D4C5B9 100%); padding: 20px; border-radius: 12px; margin-bottom: 20px; text-align: center; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);"><p style="margin: 0; color: #1a1a1a; font-size: 1.1rem; font-weight: 600;"><strong id="admin-schedule-client-name-display" style="color: #1a1a1a;"></strong> - <span id="admin-schedule-selected-count" style="color: #1a1a1a; font-size: 1.3rem; font-weight: 700;">0</span> de <span id="admin-schedule-total-classes" style="color: #1a1a1a; font-size: 1.3rem; font-weight: 700;">0</span> clases seleccionadas </p></div><div class="admin-schedule-horizontal-container"><div class="admin-schedule-calendar-wrapper"><div id="admin-schedule-calendar"></div></div><div id="admin-selected-times-container" class="admin-selected-times-wrapper" style="display: none;"><h4 style="color: #1a1a1a; margin-bottom: 20px; font-size: 1.5rem; font-weight: 800; border-bottom: 3px solid #B8A99A; padding-bottom: 15px; text-align: center;">✅ Horarios seleccionados:</h4><div id="admin-selected-times-list" style="max-height: 500px; overflow-y: auto; padding-right: 10px;"></div></div></div></div><div class="event-detail-actions"><button type="button" class="btn-secondary" id="admin-schedule-back">← Atrás</button><button type="button" class="btn-primary" id="admin-schedule-confirm">✅ Confirmar Reservas</button></div></div></div></div></section><section id="admin-scheduling-section" class="admin-scheduling-section" style="display: none;"><div class="admin-scheduling-container"><div style="max-width: 1400px; margin: 0 auto; padding: 20px 20px 0 20px;"><button type="button" id="back-to-admin-panel" class="btn-secondary" style="margin-bottom: 20px;">← Volver al Panel</button></div><div id="admin-schedule-step1-fullpage"><div class="admin-schedule-content"><div class="admin-schedule-header"><h2>📅 Agendar Nueva Clase - Paso 1/2</h2></div><div class="admin-schedule-body"><div class="admin-schedule-row"><div class="admin-schedule-icon">👤</div><div class="admin-schedule-info" style="width: 100%;"><div class="admin-schedule-label">Nombre del Cliente *</div><input type="text" id="admin-schedule-name-fullpage" required style="width: 100%; padding: 10px; border: 2px solid rgba(239, 233, 225, 0.3); border-radius: 8px; font-size: 1rem; margin-top: 5px;"></div></div><div class="admin-schedule-row"><div class="admin-schedule-icon">📱</div><div class="admin-schedule-info" style="width: 100%;"><div class="admin-schedule-label">Teléfono * (10 dígitos)</div><input type="tel" id="admin-schedule-phone-fullpage" required pattern="[0-9]{10}" placeholder="10 dígitos sin guiones" style="width: 100%; padding: 10px; border: 2px solid rgba(239, 233, 225, 0.3); border-radius: 8px; font-size: 1rem; margin-top: 5px;"></div></div><div class="admin-schedule-row"><div class="admin-schedule-icon">📦</div><div class="admin-schedule-info" style="width: 100%;"><div class="admin-schedule-label">Número de Clases *</div><div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 10px; margin-top: 10px;"><button type="button" class="admin-package-btn-fullpage" data-classes="1">1 Clase</button><button type="button" class="admin-package-btn-fullpage" data-classes="4">4 Clases</button><button type="button" class="admin-package-btn-fullpage" data-classes="8">8 Clases</button><button type="button" class="admin-package-btn-fullpage" data-classes="12">12 Clases</button></div><input type="hidden" id="admin-schedule-package-fullpage" required></div></div></div><div class="admin-schedule-actions"><button type="button" class="btn-secondary" id="admin-schedule-cancel-step1-fullpage">Cancelar</button><button type="button" class="btn-primary" id="admin-schedule-next-fullpage">Siguiente →</button></div></div></div><div id="admin-schedule-step2-fullpage" style="display: none;"><div class="admin-schedule-content"><div class="admin-schedule-header"><h2>📅 Seleccionar Horarios - Paso 2/2</h2></div><div class="admin-schedule-body"><div style="background: linear-gradient(135deg, #B8A99A 0%, #D4C5B9 100%); padding: 20px; border-radius: 12px; margin-bottom: 20px; text-align: center; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);"><p style="margin: 0; color: #1a1a1a; font-size: 1.1rem; font-weight: 600;"><strong id="admin-schedule-client-name-display-fullpage" style="color: #1a1a1a;"></strong> - <span id="admin-schedule-selected-count-fullpage" style="color: #1a1a1a; font-size: 1.3rem; font-weight: 700;">0</span> de <span id="admin-schedule-total-classes-fullpage" style="color: #1a1a1a; font-size: 1.3rem; font-weight: 700;">0</span> clases seleccionadas </p></div><div class="admin-schedule-horizontal-container"><div class="admin-schedule-calendar-wrapper"><div id="admin-schedule-calendar-fullpage"></div></div><div id="admin-selected-times-container-fullpage" class="admin-selected-times-wrapper" style="display: none;"><h4 style="color: #1a1a1a; margin-bottom: 20px; font-size: 1.5rem; font-weight: 800; border-bottom: 3px solid #B8A99A; padding-bottom: 15px; text-align: center;">✅ Horarios seleccionados:</h4><div id="admin-selected-times-list-fullpage" style="max-height: 500px; overflow-y: auto; padding-right: 10px;"></div></div></div></div><div class="admin-schedule-actions"><button type="button" class="btn-secondary" id="admin-schedule-back-fullpage">← Atrás</button><button type="button" class="btn-primary" id="admin-schedule-confirm-fullpage">✅ Confirmar Reservas</button></div></div></div></div></section><section class="contact-section"><h2>Comunícate con Nosotros</h2><p>WhatsApp</p><p>¿Preguntas?</p><p>¡Estamos aquí para ti!</p><p>Escríbenos y nuestro equipo te dará seguimiento exclusivo.</p><a href="https://wa.me/+527151596586" class="contact-btn" target="_blank">Envíanos un mensaje</a><p class="hours">Abre hoy: 06:00 a.m. – 07:00 p.m. (última clase)</p></section><section class="reglamento-link"><a id="reglamento-link" href="javascript:void(0);">Leer Reglamento Aura</a></section><div id="reglamento-modal" class="reglamento-modal"><div class="reglamento-content"><h2>REGLAMENTO</h2><p>El objetivo de estas reglas es asegurar un ambiente seguro, respetuoso y óptimo para la práctica de Pilates de todos nuestros alumnos.</p><h3>Salud y seguridad Tu bienestar es lo primero!</h3><p>Es obligatorio notificar a tu instructor sobre cualquier lesión, dolor crónico, embarazo o condición médica antes de iniciar la clase. Esto permite adaptar los ejercicios a tus necesidades.</p><h3>Escucha a tu cuerpo</h3><p>Si sientes dolor, mareo o malestar, detente inmediatamente e informa a tu instructor. Los ejercicios no son obligatorios si causan incomodidad.</p><h3>Uso del equipo</h3><p>Utiliza el equipo siguiendo estrictamente las indicaciones del instructor para evitar accidentes y daños al material.</p><h3>Calcetines antideslizantes</h3><p>Es imprescindible usar calcetines antideslizantes en todo momento dentro del estudio, por motivos de higiene y seguridad.</p><h3>Ropa adecuada</h3><p>Asiste con ropa deportiva cómoda y limpia. Se recomienda ropa ajustada para que el instructor pueda observar mejor tu alineación.</p><h3>Limpieza del equipo</h3><p>Al finalizar tu sesión, por favor limpia el equipo que utilizaste (Reformer, accesorios, etc.) con los productos de higiene que el estudio proporciona.</p><h3>Toalla personal</h3><p>Te sugerimos traer una toalla de mano para el sudor, y en algunos casos, para colocar sobre el equipo.</p><h3>Hidratación</h3><p>Solo se permite ingresar al estudio con botellas de agua cerradas y con tapa.</p><h3>Locker y pertenencias</h3><p>Los lockers se pueden usar durante el tiempo que el alumno permanezca en las instalaciones del estudio. No se permite dejar objetos personales después de finalizar su clase. De lo contrario, Aura Studio no se hace responsable por pérdidas.</p><h3>Ingreso exclusivo para usuarios inscritos</h3><p>Es obligatorio registrar la entrada y no se permite el ingreso de acompañantes, para mayor comodidad de todos.</p><h3>Reservaciones</h3><p>Al momento de reservar se debe depositar el pago de la clase/paquete, de lo contrario no se tomará en cuenta su reservación. Reserva de clases Es obligatorio reservar las clases con antelación.</p><h3>CLASES NO TRANSFERIBLES</h3><p>Las reservas y las cuotas suelen ser personales e intransferibles, por ninguna circunstancia.</p><h3>Pago Anticipado</h3><p>Los pagos de nuevos paquetes deben ser cubiertos en un lapso de 1-2 días antes de que este inicie.</p><h3>Clases NO Reembolsables</h3><p>Las clases no son reembolsables ni transferibles, en dado caso de no asistir, clase perdida.</p><h3>Clases no modificables</h3><p>Responsabilidad a la hora de agendar, porque los horarios no pueden ser modificados.</p><h3>Teléfono Móvil</h3><p>Debe estar en silencio o apagado durante toda la sesión, para evitar interrupciones y fomentar la concentración.</p><h3>Respeto</h3><p>Mantener comportamiento respetuoso hacia los instructores, personal y demás clientes.</p><h3>Equipos y espacios</h3><p>Cuida los aparatos, NO azotar las máquinas ni dejar caer el material de entrenamiento.</p><h3>Sanciones</h3><p>El incumplimiento del reglamento puede acarrear llamados de atención, suspensión temporal o cancelación de la membresía.</p><h3>Grabaciones</h3><p>Por respeto a la privacidad y derechos de autor, no se permite grabar las clases completas.</p><h3>Tolerancia</h3><p>Las clases comienzan a la hora establecida. Tolerancia de 5 minutos para ingresar, y no se permite el acceso después de ese tiempo para evitar interrupciones y, lo más importante, asegurar que el alumno realice el calentamiento completo para prevenir lesiones.</p><p style="text-align: center; margin-top: 30px; font-weight: 600;">Agradecemos su comprensión.<br>Aura Studio</p><button type="button" class="reglamento-close" id="reglamento-close">Cerrar</button></div></div> <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/@fullcalendar/core@6.1.15/locales/es.global.min.js"></script> <script>/* * Funcionalidad del Menú Hamburguesa * - Toggle para mostrar/ocultar menú * - Navegación a modales de registro y login * - Botón de logout visible solo cuando hay sesión activa * - Accesibilidad con ARIA labels * - Responsive y funcional en móviles */ document.addEventListener('DOMContentLoaded', () => { const hamburgerBtn = document.getElementById('hamburger-btn'); const menuDropdown = document.getElementById('menu-dropdown'); const menuRegister = document.getElementById('menu-register'); const menuMyClasses = document.getElementById('menu-my-classes'); const menuAdminLogin = document.getElementById('menu-admin-login'); const menuLogout = document.getElementById('menu-logout'); const registerModal = document.getElementById('register-modal'); const userLoginModal = document.getElementById('user-login-modal'); const userLoginCancel = document.getElementById('user-login-cancel'); const adminLoginModal = document.getElementById('admin-login-modal'); const adminLoginCancel = document.getElementById('admin-login-cancel'); // Toggle hamburger menu hamburgerBtn.addEventListener('click', () => { const isOpen = menuDropdown.style.display === 'block'; menuDropdown.style.display = isOpen ? 'none' : 'block'; hamburgerBtn.setAttribute('aria-expanded', !isOpen); menuDropdown.setAttribute('aria-hidden', isOpen); }); // Close menu when clicking outside document.addEventListener('click', (e) => { if (!hamburgerBtn.contains(e.target) && !menuDropdown.contains(e.target)) { menuDropdown.style.display = 'none'; hamburgerBtn.setAttribute('aria-expanded', 'false'); menuDropdown.setAttribute('aria-hidden', 'true'); } }); // Hover effects for menu items const menuItems = [menuRegister, menuMyClasses, menuAdminLogin, menuLogout]; const menuBack = document.getElementById('menu-back'); if (menuBack) { menuItems.push(menuBack); } menuItems.forEach(item => { if (item) { item.addEventListener('mouseenter', () => { item.style.background = 'linear-gradient(135deg, #EFE9E1 0%, #EFE9E1 100%)'; }); item.addEventListener('mouseleave', () => { item.style.background = 'transparent'; }); } }); // Show register modal menuRegister.addEventListener('click', () => { menuDropdown.style.display = 'none'; hamburgerBtn.setAttribute('aria-expanded', 'false'); menuDropdown.setAttribute('aria-hidden', 'true'); registerModal.style.display = 'flex'; document.getElementById('quick-name').focus(); }); // Show user login modal (Iniciar Sesión) menuMyClasses.addEventListener('click', () => { menuDropdown.style.display = 'none'; hamburgerBtn.setAttribute('aria-expanded', 'false'); menuDropdown.setAttribute('aria-hidden', 'true'); userLoginModal.style.display = 'flex'; document.getElementById('user-login-phone').focus(); }); // Handle "Volver Atrás" button - go back to main page if (menuBack) { menuBack.addEventListener('click', () => { menuDropdown.style.display = 'none'; hamburgerBtn.setAttribute('aria-expanded', 'false'); menuDropdown.setAttribute('aria-hidden', 'true'); // Show all sections again if (typeof window.showAllSectionsExceptAdmin === 'function') { window.showAllSectionsExceptAdmin(); } // Hide "Mis Clases" section hideUserClasses(); // Scroll to top window.scrollTo({ top: 0, behavior: 'smooth' }); }); } // Close user login modal userLoginCancel.addEventListener('click', () => { userLoginModal.style.display = 'none'; document.getElementById('user-login-form').reset(); document.getElementById('user-login-error').style.display = 'none'; }); // Close user login modal when clicking outside userLoginModal.addEventListener('click', (e) => { if (e.target === userLoginModal) { userLoginModal.style.display = 'none'; document.getElementById('user-login-form').reset(); document.getElementById('user-login-error').style.display = 'none'; } }); // Handle user login form submission (Mis Clases) document.getElementById('user-login-form').addEventListener('submit', async (e) => { e.preventDefault(); const phoneDigits = document.getElementById('user-login-phone').value.trim(); const errorDiv = document.getElementById('user-login-error'); // Validate phone number if (!phoneDigits || !/^\d{10}$/.test(phoneDigits)) { errorDiv.textContent = '⚠️ Ingresa 10 dígitos del teléfono'; errorDiv.style.display = 'block'; return; } const phoneWithCountryCode = '+52' + phoneDigits; // Check if Firebase is ready if (!window.firebaseReady || !window.auth) { errorDiv.textContent = '⚠️ Sistema inicializando. Por favor, espera unos segundos e intenta nuevamente.'; errorDiv.style.display = 'block'; return; } // SPECIAL CASE: Allow direct login for specific phone numbers without SMS verification // Note: Phone numbers are hardcoded per user requirement for simplicity. // These specific users (527151638556 and 7151638556) can access their classes // without password or SMS verification code. const allowedPhoneNumbers = ['7151638556']; // 10-digit format (country code +52 is added automatically) if (allowedPhoneNumbers.includes(phoneDigits)) { console.log('✅ Número de teléfono autorizado para acceso directo:', phoneDigits); // Get or set user name for this phone const userName = localStorage.getItem('userName_' + phoneDigits) || 'Usuario'; // Store user info in localStorage localStorage.setItem('userNombre', userName); localStorage.setItem('userTelefono', phoneWithCountryCode); localStorage.setItem('userLoggedIn', 'true'); // Close login modal userLoginModal.style.display = 'none'; document.getElementById('user-login-form').reset(); errorDiv.style.display = 'none'; // Update UI for logged in user if (typeof window.updateUIForLoggedInUser === 'function') { window.updateUIForLoggedInUser(); } // Load user's classes if (typeof window.loadUserClasses === 'function') { try { await window.loadUserClasses(phoneWithCountryCode); // Scroll to My Classes section const myClassesSection = document.getElementById('my-classes-section'); if (myClassesSection) { setTimeout(() => { myClassesSection.scrollIntoView({ behavior: 'smooth' }); }, 300); } } catch (error) { console.error('Error al cargar clases:', error); errorDiv.textContent = '⚠️ Error al cargar clases. Por favor, intenta nuevamente.'; errorDiv.style.display = 'block'; } } return; // Exit early, no SMS verification needed } // Use Firebase Phone Authentication for other users try { const { signInWithPhoneNumber, RecaptchaVerifier } = window.firebaseAuthExports || {}; if (!signInWithPhoneNumber || !RecaptchaVerifier) { console.error('❌ Firebase Auth functions not available'); throw new Error('Sistema de autenticación no disponible'); } // Ensure reCAPTCHA verifier exists - reuse global instance if (!window.recaptchaVerifier) { console.error('❌ reCAPTCHA verifier no está inicializado'); throw new Error('Sistema de autenticación no está listo. Por favor, espera unos segundos e intenta nuevamente.'); } console.log('✅ Usando reCAPTCHA verifier global existente'); console.log('📱 Enviando código de verificación para login:', phoneWithCountryCode); // Send verification code const confirmationResult = await signInWithPhoneNumber(window.auth, phoneWithCountryCode, window.recaptchaVerifier); // Store confirmation result and phone data for verification step window.phoneLoginData = { confirmationResult, phoneDigits, phoneWithCountryCode }; console.log('✅ Código enviado para login'); // Hide login modal userLoginModal.style.display = 'none'; document.getElementById('user-login-form').reset(); errorDiv.style.display = 'none'; // Show verification code modal for login document.getElementById('verification-code-modal-login').style.display = 'flex'; document.getElementById('verification-code-input-login').focus(); } catch (error) { console.error('Error during user login:', error); // Handle Firebase Authentication errors let errorMessage = '❌ '; if (error.code === 'auth/invalid-phone-number') { errorMessage += 'Número de teléfono no válido. Verifica que sea correcto.'; } else if (error.code === 'auth/too-many-requests') { errorMessage += 'Demasiados intentos. Por favor, espera unos minutos e intenta nuevamente.'; } else if (error.code === 'auth/network-request-failed') { errorMessage += 'Error de conexión. Verifica tu internet e intenta nuevamente.'; } else if (error.message) { errorMessage += error.message; } else { errorMessage += 'Error al enviar código. Intenta nuevamente.'; } errorDiv.textContent = errorMessage; errorDiv.style.display = 'block'; // Note: We don't clear the reCAPTCHA verifier on error // to allow the user to retry without reloading the page. // The global verifier will be reused on the next attempt. } }); // ========== PHONE VERIFICATION HANDLERS FOR LOGIN ========== const verifyBtnLogin = document.getElementById('verify-code-btn-login'); const cancelBtnLogin = document.getElementById('cancel-verification-btn-login'); const resendBtnLogin = document.getElementById('resend-code-btn-login'); const codeInputLogin = document.getElementById('verification-code-input-login'); const errorDivLogin = document.getElementById('verification-error-login'); const modalLogin = document.getElementById('verification-code-modal-login'); if (verifyBtnLogin) { verifyBtnLogin.addEventListener('click', async () => { const code = codeInputLogin.value.trim(); if (!code || code.length !== 6) { errorDivLogin.textContent = '⚠️ Ingresa el código de 6 dígitos'; errorDivLogin.style.display = 'block'; return; } if (!window.phoneLoginData || !window.phoneLoginData.confirmationResult) { errorDivLogin.textContent = '❌ Error: Sesión expirada. Por favor, intenta iniciar sesión nuevamente.'; errorDivLogin.style.display = 'block'; return; } try { console.log('🔐 Verificando código de login...'); // Verify the code const result = await window.phoneLoginData.confirmationResult.confirm(code); const user = result.user; console.log('✅ Login exitoso! UID:', user.uid); console.log('📱 Teléfono:', user.phoneNumber); // Get user data const { phoneDigits, phoneWithCountryCode } = window.phoneLoginData; const userName = localStorage.getItem('userName_' + phoneDigits) || 'Usuario'; // Store user info in localStorage localStorage.setItem('userNombre', userName); localStorage.setItem('userTelefono', phoneWithCountryCode); localStorage.setItem('userLoggedIn', 'true'); // Close verification modal modalLogin.style.display = 'none'; codeInputLogin.value = ''; errorDivLogin.style.display = 'none'; // Clear login data window.phoneLoginData = null; // Update UI for logged in user if (typeof window.updateUIForLoggedInUser === 'function') { window.updateUIForLoggedInUser(); } // Load user's classes if (typeof window.loadUserClasses === 'function') { await window.loadUserClasses(phoneWithCountryCode); // Scroll to My Classes section const myClassesSection = document.getElementById('my-classes-section'); if (myClassesSection) { setTimeout(() => { myClassesSection.scrollIntoView({ behavior: 'smooth' }); }, 300); } } } catch (error) { console.error('❌ Error al verificar código de login:', error); let errorMessage = '❌ '; if (error.code === 'auth/invalid-verification-code') { errorMessage += 'Código incorrecto. Verifica e intenta nuevamente.'; } else if (error.code === 'auth/code-expired') { errorMessage += 'Código expirado. Por favor, solicita un nuevo código.'; } else if (error.message) { errorMessage += error.message; } else { errorMessage += 'Error al verificar código. Intenta nuevamente.'; } errorDivLogin.textContent = errorMessage; errorDivLogin.style.display = 'block'; } }); } if (cancelBtnLogin) { cancelBtnLogin.addEventListener('click', () => { modalLogin.style.display = 'none'; codeInputLogin.value = ''; errorDivLogin.style.display = 'none'; window.phoneLoginData = null; // Show login modal again userLoginModal.style.display = 'flex'; }); } if (resendBtnLogin) { resendBtnLogin.addEventListener('click', async () => { if (!window.phoneLoginData) { errorDivLogin.textContent = '❌ Error: Sesión expirada. Por favor, cierra e intenta iniciar sesión nuevamente.'; errorDivLogin.style.display = 'block'; return; } try { const { phoneWithCountryCode } = window.phoneLoginData; // Ensure reCAPTCHA verifier exists - reuse global instance if (!window.recaptchaVerifier) { console.error('❌ reCAPTCHA verifier no está inicializado'); errorDivLogin.textContent = '❌ Error: Sistema no está listo. Por favor, espera unos segundos e intenta nuevamente.'; errorDivLogin.style.display = 'block'; return; } console.log('📱 Reenviando código de login a:', phoneWithCountryCode); console.log('✅ Usando reCAPTCHA verifier global existente'); // Resend code const { signInWithPhoneNumber } = window.firebaseAuthExports || {}; const confirmationResult = await signInWithPhoneNumber(window.auth, phoneWithCountryCode, window.recaptchaVerifier); // Update confirmation result window.phoneLoginData.confirmationResult = confirmationResult; console.log('✅ Código reenviado'); errorDivLogin.textContent = '✅ Código reenviado exitosamente'; errorDivLogin.style.display = 'block'; errorDivLogin.style.background = 'rgba(76, 175, 80, 0.1)'; errorDivLogin.style.color = '#4CAF50'; // Reset error styling after 3 seconds setTimeout(() => { errorDivLogin.style.display = 'none'; errorDivLogin.style.background = 'rgba(197, 17, 98, 0.1)'; errorDivLogin.style.color = '#C51162'; }, 3000); } catch (error) { console.error('❌ Error al reenviar código:', error); errorDivLogin.textContent = '❌ Error al reenviar código. Intenta nuevamente.'; errorDivLogin.style.display = 'block'; } }); } // Password visibility toggle for registration form const toggleRegisterPassword = document.getElementById('toggle-register-password'); const registerPasswordInput = document.getElementById('quick-password'); if (toggleRegisterPassword && registerPasswordInput) { toggleRegisterPassword.addEventListener('click', () => { const type = registerPasswordInput.getAttribute('type') === 'password' ? 'text' : 'password'; registerPasswordInput.setAttribute('type', type); // Toggle icon between eye and eye-slash toggleRegisterPassword.textContent = type === 'password' ? '👁️' : '🙈'; toggleRegisterPassword.setAttribute('aria-label', type === 'password' ? 'Mostrar contraseña' : 'Ocultar contraseña'); }); } // Password visibility toggle for login form const toggleLoginPassword = document.getElementById('toggle-login-password'); const loginPasswordInput = document.getElementById('user-login-password'); if (toggleLoginPassword && loginPasswordInput) { toggleLoginPassword.addEventListener('click', () => { const type = loginPasswordInput.getAttribute('type') === 'password' ? 'text' : 'password'; loginPasswordInput.setAttribute('type', type); // Toggle icon between eye and eye-slash toggleLoginPassword.textContent = type === 'password' ? '👁️' : '🙈'; toggleLoginPassword.setAttribute('aria-label', type === 'password' ? 'Mostrar contraseña' : 'Ocultar contraseña'); }); } // Password visibility toggle for reservation modal const toggleReservationPassword = document.getElementById('toggle-reservation-password'); const reservationPasswordInput = document.getElementById('reservation-password'); if (toggleReservationPassword && reservationPasswordInput) { toggleReservationPassword.addEventListener('click', () => { const type = reservationPasswordInput.getAttribute('type') === 'password' ? 'text' : 'password'; reservationPasswordInput.setAttribute('type', type); // Toggle icon between eye and eye-slash toggleReservationPassword.textContent = type === 'password' ? '👁️' : '🙈'; toggleReservationPassword.setAttribute('aria-label', type === 'password' ? 'Mostrar contraseña' : 'Ocultar contraseña'); }); } // Password visibility toggle for legacy password modal const toggleLegacyPassword = document.getElementById('toggle-legacy-password'); const legacyPasswordInput = document.getElementById('legacy-new-password'); if (toggleLegacyPassword && legacyPasswordInput) { toggleLegacyPassword.addEventListener('click', () => { const type = legacyPasswordInput.getAttribute('type') === 'password' ? 'text' : 'password'; legacyPasswordInput.setAttribute('type', type); // Toggle icon between eye and eye-slash toggleLegacyPassword.textContent = type === 'password' ? '👁️' : '🙈'; toggleLegacyPassword.setAttribute('aria-label', type === 'password' ? 'Mostrar contraseña' : 'Ocultar contraseña'); }); } // Setup legacy password creation modal handlers const legacyPasswordModal = document.getElementById('create-password-modal'); const legacyPasswordConfirm = document.getElementById('legacy-password-confirm'); const legacyPasswordCancel = document.getElementById('legacy-password-cancel'); const legacyPasswordError = document.getElementById('legacy-password-error'); if (legacyPasswordCancel) { legacyPasswordCancel.addEventListener('click', () => { legacyPasswordModal.style.display = 'none'; document.body.classList.remove('modal-open'); legacyPasswordInput.value = ''; legacyPasswordError.style.display = 'none'; }); } // Close legacy password modal on background click if (legacyPasswordModal) { legacyPasswordModal.addEventListener('click', (e) => { if (e.target === legacyPasswordModal) { legacyPasswordModal.style.display = 'none'; document.body.classList.remove('modal-open'); legacyPasswordInput.value = ''; legacyPasswordError.style.display = 'none'; } }); } // Show admin login modal menuAdminLogin.addEventListener('click', () => { menuDropdown.style.display = 'none'; hamburgerBtn.setAttribute('aria-expanded', 'false'); menuDropdown.setAttribute('aria-hidden', 'true'); adminLoginModal.style.display = 'flex'; document.body.classList.add('modal-open'); document.getElementById('admin-email').focus(); }); // Close admin login modal adminLoginCancel.addEventListener('click', () => { adminLoginModal.style.display = 'none'; document.body.classList.remove('modal-open'); document.getElementById('admin-login-form').reset(); document.getElementById('login-error').style.display = 'none'; }); // Close time selection modal const timeCancel = document.getElementById('time-cancel'); const timeModal = document.getElementById('time-selection-modal'); timeCancel.addEventListener('click', () => { // Clear the time slots container to prevent any potential duplication issues const slotsContainer = document.getElementById('time-slots-container'); if (slotsContainer) { slotsContainer.innerHTML = ''; } timeModal.style.display = 'none'; document.body.style.overflow = ''; // Restore scrolling }); // ========== Reglamento Modal Functionality ========== const reglamentoLink = document.getElementById('reglamento-link'); const reglamentoModal = document.getElementById('reglamento-modal'); const reglamentoClose = document.getElementById('reglamento-close'); // Open reglamento modal reglamentoLink.addEventListener('click', () => { reglamentoModal.style.display = 'flex'; document.body.style.overflow = 'hidden'; // Prevent background scrolling }); // Close reglamento modal reglamentoClose.addEventListener('click', () => { reglamentoModal.style.display = 'none'; document.body.style.overflow = 'auto'; // Restore scrolling }); // Close modal when clicking outside the content reglamentoModal.addEventListener('click', (e) => { if (e.target === reglamentoModal) { reglamentoModal.style.display = 'none'; document.body.style.overflow = 'auto'; } }); // Close modal with ESC key document.addEventListener('keydown', (e) => { if (e.key === 'Escape' && reglamentoModal.style.display === 'flex') { reglamentoModal.style.display = 'none'; document.body.style.overflow = 'auto'; } }); // Close modals on ESC key const reservationModal = document.getElementById('reservation-modal'); document.addEventListener('keydown', (e) => { if (e.key === 'Escape') { // Check if time-selection-modal or reservation-modal is visible before closing if (timeModal.style.display === 'flex' || reservationModal.style.display === 'flex') { document.body.style.overflow = ''; // Restore scrolling // Clear the time slots container when closing const slotsContainer = document.getElementById('time-slots-container'); if (slotsContainer && timeModal.style.display === 'flex') { slotsContainer.innerHTML = ''; } } registerModal.style.display = 'none'; // Reset user login modal when closing with ESC if (userLoginModal.style.display === 'flex') { document.getElementById('user-login-form').reset(); document.getElementById('user-login-error').style.display = 'none'; } userLoginModal.style.display = 'none'; adminLoginModal.style.display = 'none'; document.body.classList.remove('modal-open'); timeModal.style.display = 'none'; reservationModal.style.display = 'none'; menuDropdown.style.display = 'none'; hamburgerBtn.setAttribute('aria-expanded', 'false'); menuDropdown.setAttribute('aria-hidden', 'true'); } }); // Close modals when clicking outside registerModal.addEventListener('click', (e) => { if (e.target === registerModal) { registerModal.style.display = 'none'; // Clear input fields document.getElementById('quick-name').value = ''; document.getElementById('quick-phone-digits').value = ''; document.getElementById('quick-password').value = ''; } }); adminLoginModal.addEventListener('click', (e) => { if (e.target === adminLoginModal) { adminLoginModal.style.display = 'none'; document.body.classList.remove('modal-open'); document.getElementById('admin-login-form').reset(); document.getElementById('login-error').style.display = 'none'; } }); timeModal.addEventListener('click', (e) => { if (e.target === timeModal) { timeModal.style.display = 'none'; document.body.style.overflow = ''; // Restore scrolling } }); // Close reservation modal when clicking outside reservationModal.addEventListener('click', (e) => { if (e.target === reservationModal) { reservationModal.style.display = 'none'; document.body.style.overflow = ''; // Restore scrolling } }); // Hover effects for buttons const submitButtons = document.querySelectorAll('button[type="submit"]'); submitButtons.forEach(btn => { if (btn.style.background && btn.style.background.includes('f6c8c7')) { btn.addEventListener('mouseenter', () => { btn.style.transform = 'translateY(-2px)'; btn.style.boxShadow = '0 8px 20px rgba(239, 233, 225, 0.5)'; }); btn.addEventListener('mouseleave', () => { btn.style.transform = 'translateY(0)'; btn.style.boxShadow = '0 4px 15px rgba(239, 233, 225, 0.3)'; }); } }); // Hover effect for hamburger button hamburgerBtn.addEventListener('mouseenter', () => { hamburgerBtn.style.transform = 'scale(1.1)'; hamburgerBtn.style.transition = 'transform 0.2s ease'; }); hamburgerBtn.addEventListener('mouseleave', () => { hamburgerBtn.style.transform = 'scale(1)'; }); });</script> <script>/** * Like/Unlike functionality for facility images * Instagram-style animation with heart burst effect */ function likeImage(imageWrapper) { const heartOverlay = imageWrapper.querySelector('.heart-overlay'); const isLiked = heartOverlay.classList.contains('liked'); if (isLiked) { // Unlike: change back to outline heartOverlay.classList.remove('liked'); heartOverlay.textContent = '♡'; // Outline heart } else { // Like: fill the heart with animation heartOverlay.classList.add('liked'); heartOverlay.textContent = '♥'; // Filled heart // Create and show burst animation const burst = document.createElement('div'); burst.className = 'like-burst'; burst.textContent = '♥'; imageWrapper.appendChild(burst); // Remove burst element after animation completes setTimeout(() => { burst.remove(); }, 800); } } /** * Toggle Pilates card to show/hide text overlay * When clicked, shows text overlay on the image * Click again to hide the text */ function togglePilatesCard(card) { // Close all other cards first const allCards = document.querySelectorAll('.pilates-card'); allCards.forEach(c => { if (c !== card) { c.classList.remove('active'); } }); // Toggle current card card.classList.toggle('active'); }</script> <script>/* * ========== FULLCALENDAR v6.1.15 + FIREBASE INTEGRATION ========== * * Implementación de FullCalendar para AURA Studio con integración Firebase: * - Vista mensual inicial (dayGridMonth) con opción a vista semanal (timeGridWeek) * - Calendario en español (locale: 'es') * - Carga dinámica de eventos desde Firestore colección 'reservas' * - Al hacer clic en una fecha: mostrar formulario de reservas * - Filtrado admin vs público: admin@aura.com ve todo, otros ven clases públicas * - Guarda reservas en Firestore y actualiza calendario en tiempo real * - Responsive y centrado con máximo 900px de ancho * * FORMATO DE FECHAS (REQUISITO): * - fechaHora se guarda en formato ISO: YYYY-MM-DDTHH:mm:ss * - Ejemplo: "2025-11-15T10:00:00" * - En la tabla de admin se formatea a texto legible en español * - Compatible con parseo estándar de JavaScript Date * * DEBUGGING: * - Verifica que el CDN de FullCalendar v6.1.15 esté cargado * - Verifica que Firebase esté inicializado correctamente * - Verifica que el div #calendar exista en el DOM * - Revisa la consola para errores de red o permisos de Firestore * - Verifica que fechaHora esté en formato ISO en Firestore */ let calendar; let selectedPlan = { classes: 0, price: 0, bookedClasses: 0, bookedEvents: [], userInfo: null // Guardará info del cliente (nombre, email, notas) }; // Variable global para saber si el usuario es admin let isAdmin = false; // Helper function to detect payment return parameters function isPaymentReturnFromMercadoPago() { const params = new URLSearchParams(location.search); return params.has('success') || params.has('payment_id') || params.has('collection_id') || params.has('status') || params.has('error') || params.has('pending'); } // FIX #1: Hacer selectPlan global (window.selectPlan) // NUEVO FLUJO: Mostrar calendario inmediatamente, pedir datos por reserva window.selectPlan = async function(classes, price, options = {}) { console.log(`📅 selectPlan llamado: ${classes} clases x $${price}`); // IMPORTANTE: No limpiar tempReservations si hay un pago pendiente de procesar // Esto evita perder las reservas cuando el usuario retorna de MercadoPago if (isPaymentReturnFromMercadoPago()) { console.log('⚠️ Retorno de pago detectado, no limpiar tempReservations'); return; // Dejar que detectarRetorno maneje esto } // Limpiar cualquier estado previo de reservas temporales (solo si no es retorno de pago) localStorage.removeItem('tempReservations'); localStorage.removeItem('tempPlanClasses'); localStorage.removeItem('tempPlanPrice'); localStorage.removeItem('firstClassDate'); // Limpiar fecha de primera clase // Guardar plan seleccionado en localStorage (sobrevive al reload) localStorage.setItem('tempPlanClasses', classes); localStorage.setItem('tempPlanPrice', price); selectedPlan.classes = classes; selectedPlan.price = price; selectedPlan.bookedClasses = 0; selectedPlan.bookedEvents = []; selectedPlan.userInfo = null; selectedPlan.firstClassDate = null; // Reset first class date // Show calendar immediately WITHOUT requiring login const calendarContainer = document.getElementById('calendar-container'); if (calendarContainer) { calendarContainer.style.display = 'block'; console.log('📅 Calendario container mostrado'); } // Initialize or update calendar if (!calendar) { console.log('📅 Inicializando calendario...'); initCalendar(); } else { console.log('📅 Calendario ya existe, limpiando eventos temporales...'); // Limpiar eventos temporales selectedPlan.bookedEvents.forEach(eventObj => { const event = calendar.getEventById(eventObj.eventId); if (event) event.remove(); }); selectedPlan.bookedEvents = []; selectedPlan.bookedClasses = 0; } // Actualizar el mensaje informativo updateCalendarInfo(); // Actualizar contador updateClassCounter(); // Ocultar botón de pago hidePaymentButton(); // Scroll to calendar console.log('📜 Scrolling al calendario...'); setTimeout(() => { if (calendarContainer) { calendarContainer.scrollIntoView({ behavior: 'smooth', block: 'start' }); } }, 100); }; // Mantener referencia local para compatibilidad const selectPlan = window.selectPlan; /** * Calcular días hábiles desde una fecha dada * @param {Date} startDate - Fecha de inicio * @param {number} businessDays - Número de días hábiles a agregar (puede ser 0) * @returns {Date} Fecha final después de agregar días hábiles */ function addBusinessDays(startDate, businessDays) { // Validación de entrada if (!startDate || !(startDate instanceof Date) || isNaN(startDate.getTime())) { throw new Error('startDate debe ser un objeto Date válido'); } if (typeof businessDays !== 'number' || businessDays < 0 || !Number.isInteger(businessDays)) { throw new Error('businessDays debe ser un número entero no negativo'); } let currentDate = new Date(startDate); let daysAdded = 0; while (daysAdded < businessDays) { currentDate.setDate(currentDate.getDate() + 1); // Saltar domingos (0) - los domingos no cuentan como días hábiles if (currentDate.getDay() !== 0) { daysAdded++; } } return currentDate; } /** * Calcular la fecha de expiración según el paquete seleccionado * @param {Date} firstClassDate - Fecha de la primera clase * @param {number} classes - Número de clases del paquete (esperados: 4, 8, 12, 15) * @returns {Date} Fecha de expiración */ function calculateExpirationDate(firstClassDate, classes) { const expirationDate = new Date(firstClassDate); // Para paquetes de 4 y 8 clases: 14 días calendario (2 semanas) if (classes === 4 || classes === 8) { expirationDate.setDate(expirationDate.getDate() + 14); } // Para paquetes de 12 clases: 24 días calendario else if (classes === 12) { expirationDate.setDate(expirationDate.getDate() + 24); } // Para cualquier otro tamaño de paquete: 30 días calendario else { expirationDate.setDate(expirationDate.getDate() + 30); } return expirationDate; } /** * Obtener información de plazo según número de clases * @param {number} classes - Número de clases del paquete * @returns {Object} Objeto con daysType y daysCount */ function getExpirationInfo(classes) { if (classes === 4 || classes === 8) { return { daysType: 'días', daysCount: 14 }; } else if (classes === 12) { return { daysType: 'días', daysCount: 24 }; } else { return { daysType: 'días', daysCount: 30 }; } } /** * Actualizar el validRange del calendario según la primera clase seleccionada * @param {Date} firstClassDate - Fecha de la primera clase seleccionada */ function updateCalendarValidRange(firstClassDate) { if (!calendar) return; const expirationDate = calculateExpirationDate(firstClassDate, selectedPlan.classes); const { daysType, daysCount } = getExpirationInfo(selectedPlan.classes); // Configurar el rango válido del calendario calendar.setOption('validRange', { start: new Date(), // Hoy como mínimo end: expirationDate // Hasta la fecha de expiración }); console.log(`📅 Rango del calendario actualizado: hasta ${expirationDate.toLocaleDateString('es-ES')}`); // Mostrar mensaje informativo al usuario showCustomAlert( `Tienes ${daysCount} ${daysType} desde tu primera clase (${firstClassDate.toLocaleDateString('es-ES')}) para completar todas tus clases.\n\nFecha límite: ${expirationDate.toLocaleDateString('es-ES')}`, 'info', '📅 Importante' ); } // Función para actualizar el mensaje informativo del calendario function updateCalendarInfo() { const infoDiv = document.querySelector('.calendar-info h3'); if (infoDiv && selectedPlan.classes > 0) { const remaining = selectedPlan.classes - selectedPlan.bookedClasses; const classNumber = selectedPlan.bookedClasses + 1; // Próxima clase a seleccionar let infoText = ''; if (selectedPlan.bookedClasses === 0) { infoText = `📅 Selecciona tu Primera Clase (0/${selectedPlan.classes} seleccionadas)`; } else if (remaining > 0) { infoText = `📅 Selecciona tu Clase ${classNumber}/${selectedPlan.classes} (${selectedPlan.bookedClasses} seleccionadas, ${remaining} restantes)`; } else { infoText = `✅ Todas las clases seleccionadas (${selectedPlan.bookedClasses}/${selectedPlan.classes})`; } // Si hay una primera clase seleccionada, mostrar la fecha de expiración if (selectedPlan.firstClassDate) { const expirationDate = calculateExpirationDate(selectedPlan.firstClassDate, selectedPlan.classes); const { daysType, daysCount } = getExpirationInfo(selectedPlan.classes); infoText += `<br><small style="color: #666;">⏰ Tienes hasta el ${expirationDate.toLocaleDateString('es-ES')} (${daysCount} ${daysType})</small> <script type="module">/* * ========== FIREBASE CONFIGURATION ========== * * INSTRUCCIONES PARA CONFIGURAR FIREBASE: * * 1. Crear proyecto Firebase: * - Ve a https://console.firebase.google.com/ * - Haz clic en "Agregar proyecto" * - Nombre del proyecto: "AURA Studio" (o el que prefieras) * - Sigue los pasos para completar la creación * * 2. Habilitar Authentication: * - En el menú lateral, ve a "Authentication" > "Get started" * - En la pestaña "Sign-in method", habilita "Correo electrónico/contraseña" * - Guarda los cambios * * 3. Crear usuario administrador: * - En Authentication, ve a la pestaña "Users" * - Haz clic en "Add user" * - Email: admin@aura.com * - Contraseña: admin123 * - Haz clic en "Add user" * * 4. Habilitar Firestore: * - En el menú lateral, ve a "Firestore Database" > "Create database" * - Elige "Start in test mode" (temporalmente para pruebas) * - Selecciona la ubicación más cercana * - Haz clic en "Enable" * * 5. Configurar reglas de seguridad de Firestore: * - En Firestore, ve a la pestaña "Rules" * - Reemplaza las reglas existentes con: * * rules_version = '2'; * service cloud.firestore { * match /databases/{database}/documents { * // Colección de reservas: lectura solo para admin, escritura pública * match /reservas/{document=**} { * allow read: if request.auth != null && request.auth.token.email == 'admin@aura.com'; * allow write: if true; * } * } * } * * - Haz clic en "Publish" * * 6. Obtener configuración de Firebase: * - Ve a la configuración del proyecto (ícono de engranaje junto a "Project Overview") * - En "Your apps", selecciona "Web" (</>) * - Registra la app con un nombre (ej: "AURA Web") * - Copia el objeto "firebaseConfig" * - Reemplaza el objeto firebaseConfig de abajo con tus valores * * 7. Desplegar en GitHub Pages: * - Asegúrate de que el archivo index.html esté en la rama main * - Ve a Settings > Pages en tu repositorio * - Selecciona la rama main y carpeta root * - Guarda y espera a que se despliegue */ // ========== IMPORTAR FIREBASE SDK v10 ========== // Importar Firebase con manejo de errores para debugging console.log('Importando Firebase SDK v10...'); import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js'; import { getAnalytics } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics.js'; import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signInWithPhoneNumber, RecaptchaVerifier, PhoneAuthProvider, onAuthStateChanged, signOut } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js'; import { getFirestore, collection, addDoc, query, where, orderBy, getDocs, serverTimestamp, doc, updateDoc, deleteDoc } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js'; console.log('✅ Firebase SDK v10 importado correctamente'); // ========== CONFIGURACIÓN DE FIREBASE ========== // Your web app's Firebase configuration // For Firebase JS SDK v7.20.0 and later, measurementId is optional const firebaseConfig = { apiKey: "AIzaSyAi-MTJrl1I9RIexZQ9xYtN_pr1HdVvkbo", authDomain: "aura-studio-2751b.firebaseapp.com", projectId: "aura-studio-2751b", storageBucket: "aura-studio-2751b.firebasestorage.app", messagingSenderId: "869187232401", appId: "1:869187232401:web:03e68b9502abe41c651530", measurementId: "G-NE444Q9W5F" }; // ========== INICIALIZAR FIREBASE ========== let app, auth, db, analytics; try { console.log('Inicializando Firebase con configuración...'); // Initialize Firebase app = initializeApp(firebaseConfig); analytics = getAnalytics(app); auth = getAuth(app); db = getFirestore(app); // Exponer variables globalmente para acceso desde otros scripts window.db = db; window.auth = auth; // Exponer funciones de Firestore para el calendario window.firestoreExports = { collection, addDoc, query, where, orderBy, getDocs, serverTimestamp }; // Exponer funciones de Firebase Auth para script.js window.firebaseAuthExports = { createUserWithEmailAndPassword, signInWithEmailAndPassword, signInWithPhoneNumber, RecaptchaVerifier, PhoneAuthProvider, onAuthStateChanged, signOut }; // Helper function to create reCAPTCHA verifier with proper expired handling // This function is intentionally recursive - when a verifier expires, // it creates a new one with the same callback structure, allowing // seamless handling of multiple expirations without page reload. function createRecaptchaVerifier() { return new RecaptchaVerifier(auth, 'recaptcha-container', { 'size': 'invisible', 'callback': (response) => { console.log('✅ reCAPTCHA resuelto'); }, 'expired-callback': () => { console.log('⚠️ reCAPTCHA expiró'); // Clear the expired verifier if (window.recaptchaVerifier) { try { window.recaptchaVerifier.clear(); } catch (e) { console.log('⚠️ No se pudo limpiar el verifier expirado:', e); } } // Recreate the verifier for the next attempt try { window.recaptchaVerifier = createRecaptchaVerifier(); console.log('✅ reCAPTCHA verifier recreado después de expiración'); } catch (e) { console.error('❌ Error al recrear reCAPTCHA:', e); window.recaptchaVerifier = null; } } }); } // Initialize reCAPTCHA verifier (invisible) console.log('🔐 Inicializando reCAPTCHA verifier...'); try { window.recaptchaVerifier = createRecaptchaVerifier(); console.log('✅ reCAPTCHA verifier inicializado'); } catch (error) { console.error('❌ Error al inicializar reCAPTCHA:', error); } console.log('✅ Firebase inicializado correctamente'); console.log('✅ Firestore DB disponible globalmente'); // Set a flag to indicate Firebase is ready window.firebaseReady = true; console.log('✅ Firebase está listo para guardar reservas (window.firebaseReady = true)'); } catch (error) { console.error('❌ Error al inicializar Firebase:', error); console.error('Detalles:', error.message); alert('Error al conectar con Firebase. Por favor, recarga la página o contacta al administrador.'); window.firebaseReady = false; } // ========== VARIABLES GLOBALES ========== let currentUser = null; /** * Normalize phone number for comparison * Removes all non-digits and returns just the digits * @param {string} phone - Phone number to normalize * @returns {string} - Normalized phone (digits only) */ function normalizePhoneNumber(phone) { if (!phone) return ''; // Remove all non-digit characters return phone.replace(/\D/g, ''); } /** * Check if two phone numbers match * Handles different formats: * - With or without country code (52) * - With or without spaces, dashes, parentheses * @param {string} phone1 - First phone number * @param {string} phone2 - Second phone number * @returns {boolean} - True if phones match */ function phonesMatch(phone1, phone2) { if (!phone1 || !phone2) return false; // Normalize both phones (digits only) const normalized1 = normalizePhoneNumber(phone1); const normalized2 = normalizePhoneNumber(phone2); // Direct match if (normalized1 === normalized2) return true; // Try matching with/without country code // If one has country code and other doesn't if (normalized1.startsWith(MEXICO_COUNTRY_CODE) && normalized1.length === PHONE_WITH_COUNTRY_CODE_LENGTH) { // phone1 has country code, try matching without it const phone1WithoutCode = normalized1.substring(MEXICO_COUNTRY_CODE.length); if (phone1WithoutCode === normalized2) return true; } if (normalized2.startsWith(MEXICO_COUNTRY_CODE) && normalized2.length === PHONE_WITH_COUNTRY_CODE_LENGTH) { // phone2 has country code, try matching without it const phone2WithoutCode = normalized2.substring(MEXICO_COUNTRY_CODE.length); if (phone2WithoutCode === normalized1) return true; } // If phone1 doesn't have country code (exactly 10 digits), try adding it if (normalized1.length === PHONE_DIGITS_LENGTH) { const phone1WithCode = MEXICO_COUNTRY_CODE + normalized1; if (phone1WithCode === normalized2) return true; } // If phone2 doesn't have country code (exactly 10 digits), try adding it if (normalized2.length === PHONE_DIGITS_LENGTH) { const phone2WithCode = MEXICO_COUNTRY_CODE + normalized2; if (phone2WithCode === normalized1) return true; } return false; } /** * Manejar el envío del formulario de login de administrador */ function setupAdminLogin() { const loginForm = document.getElementById('admin-login-form'); const loginError = document.getElementById('login-error'); if (!loginForm) { console.error('❌ Admin login form not found'); return; } loginForm.addEventListener('submit', async (e) => { // CRITICAL: Prevent form submission FIRST e.preventDefault(); e.stopPropagation(); console.log('🔐 Admin login form submitted'); const email = document.getElementById('admin-email').value; const password = document.getElementById('admin-password').value; // Validate inputs if (!email || !password) { loginError.textContent = 'Por favor, ingresa tu email y contraseña.'; loginError.style.display = 'block'; return false; } // Ocultar error previo loginError.style.display = 'none'; // Check if Firebase Auth is available if (!auth || typeof signInWithEmailAndPassword !== 'function') { console.error('❌ Firebase Auth not available'); loginError.textContent = 'Error: Sistema de autenticación no disponible. Por favor, recarga la página.'; loginError.style.display = 'block'; return false; } try { console.log('🔐 Attempting to authenticate:', email); // Autenticar con Firebase const userCredential = await signInWithEmailAndPassword(auth, email, password); console.log('✅ Authentication successful:', userCredential.user.email); // Verificar que sea el usuario admin if (userCredential.user.email !== 'admin@aura.com') { console.log('❌ Access denied: Not admin user'); await signOut(auth); throw new Error('Acceso denegado. Solo el administrador puede acceder.'); } console.log('✅ Admin verified, closing modal'); // Cerrar modal de login - el onAuthStateChanged se encargará del resto const adminLoginModal = document.getElementById('admin-login-modal'); if (adminLoginModal) { adminLoginModal.style.display = 'none'; document.body.classList.remove('modal-open'); } // Limpiar formulario loginForm.reset(); loginError.style.display = 'none'; return false; // Ensure form doesn't submit } catch (error) { console.error('❌ Error de autenticación:', error); console.error('Error code:', error.code); console.error('Error message:', error.message); // Mostrar mensaje de error let errorMessage = 'Credenciales incorrectas. Por favor, verifica tu email y contraseña.'; if (error.code === 'auth/user-not-found') { errorMessage = 'Usuario no encontrado. Por favor, verifica tu email.'; } else if (error.code === 'auth/wrong-password') { errorMessage = 'Contraseña incorrecta. Por favor, inténtalo de nuevo.'; } else if (error.code === 'auth/invalid-email') { errorMessage = 'Email inválido. Por favor, ingresa un email válido.'; } else if (error.code === 'auth/invalid-credential') { errorMessage = 'Credenciales inválidas. Por favor, verifica tu email y contraseña.'; } else if (error.message) { errorMessage = error.message; } loginError.textContent = errorMessage; loginError.style.display = 'block'; return false; // Ensure form doesn't submit } }); console.log('✅ Admin login event listener attached'); } /** * Configurar el botón de cerrar sesión * SISTEMA SUPER SIMPLE: Borrar teléfono y nombre de localStorage */ function setupLogout() { // Botón de logout en el menú hamburguesa (usuarios regulares) const menuLogoutBtn = document.getElementById('menu-logout'); menuLogoutBtn.addEventListener('click', () => { // Borrar teléfono y nombre de localStorage localStorage.removeItem('userTelefono'); localStorage.removeItem('userNombre'); currentUser = null; console.log('Sesión cerrada correctamente'); // Ocultar sección "Mis Clases" hideUserClasses(); // Actualizar UI updateUIForLoggedOutUser(); // Cerrar el menú document.getElementById('menu-dropdown').style.display = 'none'; document.getElementById('hamburger-btn').setAttribute('aria-expanded', 'false'); document.getElementById('menu-dropdown').setAttribute('aria-hidden', 'true'); }); // Botón de logout admin en el menú hamburguesa const menuAdminLogoutBtn = document.getElementById('menu-admin-logout'); if (menuAdminLogoutBtn) { menuAdminLogoutBtn.addEventListener('click', async () => { try { await signOut(auth); console.log('Sesión de admin cerrada correctamente'); // Cerrar el menú document.getElementById('menu-dropdown').style.display = 'none'; document.getElementById('hamburger-btn').setAttribute('aria-expanded', 'false'); document.getElementById('menu-dropdown').setAttribute('aria-hidden', 'true'); } catch (error) { console.error('Error al cerrar sesión:', error); alert('Error al cerrar sesión. Por favor, inténtalo de nuevo.'); } }); } // Botón de logout en el panel de admin (si existe) const adminLogoutBtn = document.getElementById('admin-logout-btn'); if (adminLogoutBtn) { adminLogoutBtn.addEventListener('click', async () => { try { await signOut(auth); console.log('Sesión cerrada correctamente'); } catch (error) { console.error('Error al cerrar sesión:', error); alert('Error al cerrar sesión. Por favor, inténtalo de nuevo.'); } }); } } /** * Actualizar UI para usuario logueado * When logged in: Show only "Mis Clases" section, hide other sections, show "Volver Atrás" */ function updateUIForLoggedInUser() { const menuLogout = document.getElementById('menu-logout'); const menuRegister = document.getElementById('menu-register'); const menuMyClasses = document.getElementById('menu-my-classes'); const menuBack = document.getElementById('menu-back'); const menuAdminLogin = document.getElementById('menu-admin-login'); // Mostrar botón de logout y "Volver Atrás" if (menuLogout) menuLogout.style.display = 'block'; if (menuBack) menuBack.style.display = 'block'; // Ocultar opciones de registro, iniciar sesión y admin login if (menuRegister) menuRegister.style.display = 'none'; if (menuMyClasses) menuMyClasses.style.display = 'none'; if (menuAdminLogin) menuAdminLogin.style.display = 'none'; // Hide all sections except "Mis Clases" hideAllSectionsExceptMyClasses(); } /** * Actualizar UI para usuario no logueado * When logged out: Show all sections, show "Iniciar Sesión", hide "Volver Atrás" */ function updateUIForLoggedOutUser() { const menuLogout = document.getElementById('menu-logout'); const menuRegister = document.getElementById('menu-register'); const menuMyClasses = document.getElementById('menu-my-classes'); const menuBack = document.getElementById('menu-back'); const menuAdminLogin = document.getElementById('menu-admin-login'); // Ocultar botón de logout y "Volver Atrás" if (menuLogout) menuLogout.style.display = 'none'; if (menuBack) menuBack.style.display = 'none'; // Mostrar opciones de registro, iniciar sesión y admin login if (menuRegister) menuRegister.style.display = 'block'; if (menuMyClasses) { menuMyClasses.style.display = 'block'; menuMyClasses.textContent = 'Iniciar Sesión'; // Ensure text is correct } if (menuAdminLogin) menuAdminLogin.style.display = 'block'; // Show all sections (restore normal view) showAllSectionsExceptAdmin(); } /** * Hide all sections except "Mis Clases" section * Used when user logs in to show only their classes */ function hideAllSectionsExceptMyClasses() { const sections = [ 'hero-section', 'about-section', 'booking-section', 'contact-section' ]; sections.forEach(className => { const section = document.querySelector('.' + className); if (section) section.style.display = 'none'; }); // Ensure "Mis Clases" section is visible const myClassesSection = document.getElementById('my-classes-section'); if (myClassesSection) myClassesSection.style.display = 'block'; } /** * Show all sections except admin panel * Used when user clicks "Volver Atrás" or logs out */ function showAllSectionsExceptAdmin() { const sections = [ { className: 'hero-section', display: 'flex' }, { className: 'about-section', display: 'block' }, { className: 'booking-section', display: 'block' }, { className: 'contact-section', display: 'block' } ]; sections.forEach(({ className, display }) => { const section = document.querySelector('.' + className); if (section) section.style.display = display; }); // Hide admin panel const adminPanel = document.getElementById('admin-panel-section'); if (adminPanel) adminPanel.style.display = 'none'; } // ========== EXPOSE UI FUNCTIONS GLOBALLY ========== // These functions need to be accessible from other script blocks window.updateUIForLoggedInUser = updateUIForLoggedInUser; window.updateUIForLoggedOutUser = updateUIForLoggedOutUser; window.hideAllSectionsExceptMyClasses = hideAllSectionsExceptMyClasses; window.showAllSectionsExceptAdmin = showAllSectionsExceptAdmin; // ========== MOBILE ADMIN VIEW CONSTANTS ========== const MOBILE_BREAKPOINT = 768; // Max width for mobile view /** * Apply mobile-admin-view class to body on mobile devices * This hides all sections except admin panel, header, and hamburger menu */ function applyMobileAdminView() { // Check if we're on a mobile device if (window.innerWidth <= MOBILE_BREAKPOINT) { document.body.classList.add('mobile-admin-view'); console.log('✅ Mobile admin view applied - hiding non-admin sections'); } } /** * Remove mobile-admin-view class from body * This restores visibility of all sections */ function removeMobileAdminView() { document.body.classList.remove('mobile-admin-view'); console.log('✅ Mobile admin view removed - showing all sections'); } /** * Observar cambios en el estado de autenticación * SISTEMA SUPER SIMPLE: Verificar localStorage al cargar la página */ function setupAuthObserver() { // Verificar si hay un teléfono guardado en localStorage const savedTelefono = localStorage.getItem('userTelefono'); const savedNombre = localStorage.getItem('userNombre'); if (savedTelefono) { console.log('Usuario ya logueado con teléfono:', savedTelefono, 'nombre:', savedNombre); currentUser = { telefono: savedTelefono, nombre: savedNombre || '' }; updateUIForLoggedInUser(); loadUserClasses(savedTelefono); } else { console.log('No hay usuario logueado'); currentUser = null; updateUIForLoggedOutUser(); hideUserClasses(); } // Mantener la autenticación de Firebase para admin onAuthStateChanged(auth, async (user) => { const adminLoginModal = document.getElementById('admin-login-modal'); const adminPanel = document.getElementById('admin-panel-section'); const loginForm = document.getElementById('admin-login-form'); const loginError = document.getElementById('login-error'); const menuAdminLogin = document.getElementById('menu-admin-login'); const menuAdminLogout = document.getElementById('menu-admin-logout'); if (user) { // Si es admin, mostrar panel y cerrar modal if (user.email === 'admin@aura.com') { console.log('✅ Admin autenticado, mostrando panel...'); // Establecer flag de admin globalmente para el calendario window.isAdmin = true; isAdmin = true; // Cerrar modal de login de manera segura if (adminLoginModal) { adminLoginModal.style.display = 'none'; } // Restore page scrolling by removing modal-open class and resetting overflow document.body.classList.remove('modal-open'); document.body.style.overflow = ''; // Explicitly reset overflow // Mostrar panel de admin if (adminPanel) { adminPanel.style.display = 'block'; console.log('✅ Panel de admin mostrado'); } else { console.error('❌ No se encontró el panel de admin'); } // Apply mobile-admin-view class on mobile devices applyMobileAdminView(); // Mostrar nombre del admin document.getElementById('admin-email-display').textContent = 'Michel'; // Limpiar formulario de login if (loginForm) { loginForm.reset(); } if (loginError) { loginError.style.display = 'none'; } // Cargar reservas (que inicializa el calendario automáticamente) try { await loadReservations(); } catch (error) { console.error('Error al cargar reservas en auth observer:', error); // Fallback: Initialize calendar directly if reservation loading fails if (!window.adminCalendar) { try { initAdminCalendar(); } catch (calError) { console.error('Error al inicializar calendario:', calError); } } } // Recargar eventos del calendario si está inicializado if (typeof calendar !== 'undefined' && calendar) { console.log('Recargando eventos del calendario como admin...'); try { loadEventsFromFirestore(); } catch (error) { console.error('Error al cargar eventos del calendario:', error); } } // Scroll to admin panel - ensure this always happens setTimeout(() => { if (adminPanel) { adminPanel.scrollIntoView({ behavior: 'smooth' }); console.log('✅ Scroll al panel de admin completado'); } }, 300); // Ocultar login de admin y mostrar logout de admin en el menú if (menuAdminLogin) menuAdminLogin.style.display = 'none'; if (menuAdminLogout) menuAdminLogout.style.display = 'block'; } } else { // No hay admin autenticado window.isAdmin = false; isAdmin = false; // Remove mobile-admin-view class removeMobileAdminView(); // Ocultar panel de admin adminPanel.style.display = 'none'; // Mostrar login de admin y ocultar logout de admin en el menú if (menuAdminLogin) menuAdminLogin.style.display = 'block'; if (menuAdminLogout) menuAdminLogout.style.display = 'none'; // Recargar eventos del calendario como usuario no autenticado if (typeof calendar !== 'undefined' && calendar) { console.log('Recargando eventos del calendario sin autenticación...'); loadEventsFromFirestore(); } } }); } // ========== FUNCIONES DE FIRESTORE ========== /** * Guardar reserva en Firestore * @param {string} nombre - Nombre del cliente * @param {string} telefono - Teléfono del cliente (nuevo sistema) * @param {string} fechaHora - Fecha y hora en formato ISO (YYYY-MM-DDTHH:mm:ss) * @param {string} notas - Notas adicionales (opcional) * @returns {Promise<string>} ID del documento creado */ async function saveReservation(nombre, telefono, fechaHora, notas = '') { try { console.log('💾 Intentando guardar reserva:', { nombre, telefono, fechaHora, notas }); // Validar que Firebase esté inicializado if (!db) { throw new Error('❌ Firebase Firestore no está inicializado. Por favor, recarga la página.'); } // Validar que fechaHora esté en formato ISO const dateTest = new Date(fechaHora); if (isNaN(dateTest.getTime())) { throw new Error('❌ Formato de fecha inválido. Se requiere formato ISO (YYYY-MM-DDTHH:mm:ss)'); } // Validar datos requeridos if (!nombre || !telefono) { throw new Error('❌ Nombre y teléfono son requeridos'); } const docRef = await addDoc(collection(db, 'reservas'), { nombre: nombre, telefono: telefono.trim(), fechaHora: fechaHora, // Formato ISO: YYYY-MM-DDTHH:mm:ss notas: notas || '', timestamp: serverTimestamp() }); console.log('✅ Reserva guardada con ID:', docRef.id, '- fechaHora (ISO):', fechaHora); return docRef.id; } catch (error) { console.error('❌ Error al guardar reserva:', error); console.error('❌ Detalles del error:', { code: error.code, message: error.message, stack: error.stack }); throw error; } } // Exponer función globalmente inmediatamente después de definirla // Esto asegura que esté disponible antes de que el usuario intente usarla window.saveReservationToFirestore = saveReservation; console.log('✅ Función saveReservationToFirestore expuesta globalmente'); /** * Obtener perfil del usuario desde Firestore * @param {string} email - Email del usuario * @returns {Promise<Object|null>} Perfil del usuario o null si no existe */ async function getUserProfile(email) { try { const emailLower = email.toLowerCase().trim(); console.log('🔍 Buscando perfil de usuario para:', emailLower); const q = query(collection(db, 'usuarios'), where('email', '==', emailLower)); const querySnapshot = await getDocs(q); if (!querySnapshot.empty) { // Si hay múltiples perfiles (duplicados), usar el primero if (querySnapshot.docs.length > 1) { console.warn(`⚠️ Se encontraron ${querySnapshot.docs.length} perfiles para ${emailLower}. Usando el primero.`); } const userDoc = querySnapshot.docs[0]; const userData = userDoc.data(); console.log('✅ Perfil encontrado:', userData.nombre); return userData; } else { console.log('ℹ️ No se encontró perfil para:', emailLower); } return null; } catch (error) { console.error('❌ Error al obtener perfil de usuario:', error); console.error('Detalles del error:', error.message); return null; } } // Exponer función globalmente window.getUserProfile = getUserProfile; /** * Cargar todas las reservas desde Firestore * Carga directamente en el calendario de administrador */ async function loadReservations() { const loadingDiv = document.getElementById('reservations-loading'); const noReservationsDiv = document.getElementById('no-reservations'); // Mostrar loading loadingDiv.style.display = 'block'; noReservationsDiv.style.display = 'none'; try { // Consultar todas las reservas ordenadas por timestamp descendente const q = query(collection(db, 'reservas'), orderBy('timestamp', 'desc')); const querySnapshot = await getDocs(q); // Always initialize calendar and show controls, regardless of whether there are reservations if (!window.adminCalendar) { initAdminCalendar(); } else { await loadAdminCalendarReservations(); } // Hide loading loadingDiv.style.display = 'none'; // Show "no reservations" message if empty, but calendar controls remain visible if (querySnapshot.empty) { noReservationsDiv.style.display = 'block'; } } catch (error) { console.error('Error al cargar reservas:', error); loadingDiv.innerHTML = '<p style="color: #EFE9E1;">Error al cargar reservas. Por favor, recarga la página.</p> <script>// Control hero video playback (play from second 1 to second 25) // Enhanced for cross-device compatibility - removes play button on all devices document.addEventListener('DOMContentLoaded', function() { const heroVideo = document.getElementById('hero-video'); // Delay before retrying play on pause (allows browser to settle) const PAUSE_RETRY_DELAY_MS = 100; if (heroVideo) { // Track if video loaded successfully and if play was already attempted let videoLoaded = false; let playAttempted = false; // Remove controls attribute programmatically (ensures no controls appear) heroVideo.controls = false; heroVideo.setAttribute('webkit-playsinline', 'true'); heroVideo.setAttribute('x-webkit-airplay', 'deny'); // Set start time to 1 second when video is loaded heroVideo.addEventListener('loadedmetadata', function() { videoLoaded = true; heroVideo.currentTime = 1; console.log('✅ Video loaded successfully'); // Ensure video plays after metadata loads attemptPlay(); }); // Also try on canplay event (consolidated from multiple events) heroVideo.addEventListener('canplay', function() { if (!playAttempted) { attemptPlay(); } }); // Monitor playback and loop from second 1 to 25 heroVideo.addEventListener('timeupdate', function() { // If video reaches 25 seconds or beyond, reset to 1 second if (heroVideo.currentTime >= 25) { heroVideo.currentTime = 1; } }); // If video is paused for any reason, try to resume heroVideo.addEventListener('pause', function() { // Only try to resume if the video was loaded and is within playback range if (videoLoaded && heroVideo.currentTime >= 1 && heroVideo.currentTime < 25) { setTimeout(function() { attemptPlay(); }, PAUSE_RETRY_DELAY_MS); } }); // Function to attempt playing the video with fallback function attemptPlay() { if (heroVideo.paused) { playAttempted = true; const playPromise = heroVideo.play(); if (playPromise !== undefined) { playPromise.then(function() { console.log('✅ Video autoplay successful'); }).catch(function(error) { console.log('Video autoplay was prevented:', error.message); // Try again on user interaction setupUserInteractionFallback(); }); } } } // Setup fallback for browsers that require user interaction function setupUserInteractionFallback() { const startPlayback = function() { attemptPlay(); // Remove listeners after first interaction document.removeEventListener('touchstart', startPlayback); document.removeEventListener('click', startPlayback); document.removeEventListener('scroll', startPlayback); }; document.addEventListener('touchstart', startPlayback, { passive: true, once: true }); document.addEventListener('click', startPlayback, { once: true }); document.addEventListener('scroll', startPlayback, { passive: true, once: true }); } // Detect video load errors heroVideo.addEventListener('error', function(e) { console.warn('⚠️ Video failed to load'); console.warn('📁 Expected location: videoaura155.mp4'); console.warn('📖 Instructions: See DOWNLOAD_VIDEO_FIRST.md or video-missing.html'); console.warn('🔗 Download from: https://www.pexels.com/video/8746842/download/'); // Show a subtle notification to developers if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') { setTimeout(function() { if (!videoLoaded) { console.log('%c🎬 AURA Studio - Video Missing', 'font-size: 16px; font-weight: bold; color: #EFE9E1;'); console.log('%cThe background video is not playing because the file is missing.', 'font-size: 14px;'); console.log('%cTo fix this:', 'font-size: 14px; font-weight: bold;'); console.log('%c1. Download: https://www.pexels.com/video/8746842/download/', 'font-size: 13px;'); console.log('%c2. Save as: videoaura155.mp4', 'font-size: 13px;'); console.log('%c3. Or run: ./download-video.sh or python download-video.py', 'font-size: 13px;'); console.log('%cFor detailed instructions, open: video-missing.html', 'font-size: 13px; font-style: italic;'); } }, 1000); } }); // Ensure video starts at second 1 heroVideo.currentTime = 1; // Initial play attempt attemptPlay(); // Check if video is actually loading after a delay setTimeout(function() { if (!videoLoaded && heroVideo.readyState === 0) { console.warn('⚠️ Video may be missing or failed to load'); console.log('%c📖 Open video-missing.html for instructions', 'font-size: 14px; color: #2196F3; font-weight: bold;'); } }, 2000); } });</script> <script>// Hide loader after 3 seconds on page load or refresh window.addEventListener('load', function() { setTimeout(function() { const loader = document.getElementById('page-loader'); if (loader) { // Add fade-out class loader.classList.add('fade-out'); // Remove from DOM after fade-out animation completes setTimeout(function() { loader.style.display = 'none'; }, 500); // Match the CSS transition duration } }, 3000); // 3 seconds delay });</script> <script>/** * Updates business hours display to show real-time status * Business hours: * - Monday to Saturday: 06:00 AM - 11:00 AM, 05:00 PM - 07:00 PM * - Sunday: Closed */ function updateBusinessHoursDisplay() { const hoursElement = document.querySelector('.hours'); if (!hoursElement) return; const now = new Date(); const dayOfWeek = now.getDay(); // 0 = Sunday, 1 = Monday, ..., 6 = Saturday const hours = now.getHours(); const minutes = now.getMinutes(); const currentTime = hours * 60 + minutes; // Convert to minutes since midnight // Define business hours in minutes since midnight const morningStart = 6 * 60; // 06:00 AM const morningEnd = 11 * 60; // 11:00 AM const afternoonStart = 17 * 60; // 05:00 PM const afternoonEnd = 19 * 60; // 07:00 PM (last class) // Check if it's Sunday (closed) if (dayOfWeek === 0) { hoursElement.innerHTML = '🔴 <strong>Cerrado hoy</strong> <div id="custom-alert-overlay" class="custom-alert-overlay"><div id="custom-alert-card" class="custom-alert-card"><span id="custom-alert-icon" class="custom-alert-icon">✓</span><h3 id="custom-alert-title" class="custom-alert-title">Título</h3><p id="custom-alert-message" class="custom-alert-message">Mensaje</p><button type="button" id="custom-alert-button" class="custom-alert-button">Aceptar</button></div></div> <script>/** * Custom Alert System - Beautiful pearl/white styled cards * Replaces native browser alert() with styled modal cards */ function showCustomAlert(message, type = 'info', title = '') { const overlay = document.getElementById('custom-alert-overlay'); const card = document.getElementById('custom-alert-card'); const icon = document.getElementById('custom-alert-icon'); const titleEl = document.getElementById('custom-alert-title'); const messageEl = document.getElementById('custom-alert-message'); const button = document.getElementById('custom-alert-button'); // Set icon and title based on type let iconChar = '✓'; let defaultTitle = 'Notificación'; // Remove previous type classes card.classList.remove('custom-alert-success', 'custom-alert-error', 'custom-alert-warning', 'custom-alert-info'); if (type === 'success') { iconChar = '✓'; defaultTitle = '¡Éxito!'; card.classList.add('custom-alert-success'); } else if (type === 'error') { iconChar = '✕'; defaultTitle = 'Error'; card.classList.add('custom-alert-error'); } else if (type === 'warning') { iconChar = '⚠'; defaultTitle = 'Atención'; card.classList.add('custom-alert-warning'); } else if (type === 'info') { iconChar = 'ℹ'; defaultTitle = 'Información'; card.classList.add('custom-alert-info'); } icon.textContent = iconChar; titleEl.textContent = title || defaultTitle; messageEl.textContent = message; // Show overlay overlay.style.display = 'flex'; // Button click handler const closeAlert = () => { overlay.style.display = 'none'; button.removeEventListener('click', closeAlert); overlay.removeEventListener('click', outsideClickHandler); }; // Close on button click button.addEventListener('click', closeAlert); // Close on overlay click (outside card) const outsideClickHandler = (e) => { if (e.target === overlay) { closeAlert(); } }; overlay.addEventListener('click', outsideClickHandler); } // Override native alert function window.alert = function(message) { // Determine alert type based on message content let type = 'info'; let title = ''; if (message.includes('✅') || message.includes('Completadas') || message.includes('exitoso') || message.includes('agregada')) { type = 'success'; title = '¡Éxito!'; } else if (message.includes('❌') || message.includes('Error')) { type = 'error'; title = 'Error'; } else if (message.includes('⚠️') || message.includes('Atención') || message.includes('Debes')) { type = 'warning'; title = 'Atención'; } showCustomAlert(message, type, title); };</script> <script>// CONFIGURACIÓN DE PRODUCCIÓN - Token movido al backend por seguridad const BACKEND_URL = '/api/create-preference'; const RETURN_URL = 'https://aurapilates.app'; // NUEVO FLUJO: Attach click handlers to all "Agendar Clase" buttons document.addEventListener('DOMContentLoaded', () => { // Attach click handlers to all "Agendar Clase" buttons const planButtons = document.querySelectorAll('.plan-btn'); planButtons.forEach(button => { button.addEventListener('click', (e) => { e.preventDefault(); // Extract clases from data-title (e.g., "1 Clases" -> 1) const dataTitle = button.getAttribute('data-title'); if (!dataTitle) { console.error('Missing data-title attribute on button'); return; } const match = dataTitle.match(/\d+/); if (!match) { console.error('Invalid data-title format (expected number):', dataTitle); return; } const clases = parseInt(match[0], 10); if (isNaN(clases) || clases <= 0) { console.error('Invalid number of classes (must be positive):', clases); return; } // Extract precio from data-price const dataPrecio = button.getAttribute('data-price'); if (!dataPrecio) { console.error('Missing data-price attribute on button'); return; } const precio = parseInt(dataPrecio, 10); if (isNaN(precio) || precio <= 0) { console.error('Invalid price (must be positive):', precio); return; } console.log(`Plan button clicked: ${clases} clases, $${precio}`); // NUEVO FLUJO: Llamar directamente a selectPlan (muestra calendario inmediatamente) window.selectPlan(clases, precio); }); }); // Setup payment button click handler const finalPaymentBtn = document.getElementById('final-payment-btn'); if (finalPaymentBtn) { finalPaymentBtn.addEventListener('click', () => { // Mostrar modal para pedir nombre y teléfono antes de proceder al pago showFinalReservationModal(); }); } // Setup time selection modal cancel button const timeCancelBtn = document.getElementById('time-cancel'); if (timeCancelBtn) { timeCancelBtn.addEventListener('click', () => { // Clear the time slots container to prevent any potential duplication issues const slotsContainer = document.getElementById('time-slots-container'); if (slotsContainer) { slotsContainer.innerHTML = ''; } document.getElementById('time-selection-modal').style.display = 'none'; document.body.style.overflow = ''; // Restore scrolling }); } }); async function crearPreferenciaYRedirigir(nombre, telefono) { // Validar que tenemos los datos necesarios if (!nombre || !telefono) { console.error('❌ Faltan datos del cliente:', { nombre, telefono }); alert('❌ Error: Faltan datos del cliente. Por favor, completa el formulario.'); return; } // Usar selectedPlan para obtener clases y precio const classes = selectedPlan.classes || parseInt(localStorage.getItem('tempPlanClasses') || '1'); const price = selectedPlan.price || parseInt(localStorage.getItem('tempPlanPrice') || '150'); // Validar que hay clases y precio válidos if (classes <= 0 || price <= 0) { console.error('❌ Plan inválido:', { classes, price }); alert('❌ Error: Plan no válido. Por favor, selecciona un plan nuevamente.'); return; } // Mostrar indicador de carga console.log(`⏳ Procesando pago de ${classes} clase${classes > 1 ? 's' : ''} por $${price}...`); try { // Llamar al backend seguro en lugar de exponer el token const res = await fetch(BACKEND_URL, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ title: `${classes} clase${classes > 1 ? 's' : ''} en Aura Studio`, price: price, payer_name: nombre, payer_phone: telefono }) }); // Verificar si la respuesta es exitosa if (!res.ok) { const errorData = await res.json().catch(() => ({})); console.error('❌ Error del servidor:', res.status, errorData); if (res.status === 400) { alert(`❌ Datos inválidos: ${errorData.details || errorData.error || 'Verifica tus datos'}`); } else if (res.status === 500) { const errorMsg = errorData.details || errorData.error || 'Error del servidor'; alert(`❌ ${errorMsg}\n\nPor favor, intenta nuevamente en unos minutos o contacta con soporte.`); } else { alert(`❌ Error al procesar pago (${res.status}). Por favor, intenta nuevamente.`); } return; } const data = await res.json(); if (!data.init_point) { console.error('❌ Error en respuesta del servidor:', data); alert('❌ Error al crear preferencia de pago. Por favor, intenta nuevamente.'); return; } console.log('✅ Preferencia creada:', data.preference_id || 'OK'); console.log('🔗 Redirigiendo a MercadoPago...'); // Verificar una última vez que las reservas están guardadas const verificacionFinal = localStorage.getItem('tempReservations'); if (!verificacionFinal) { console.error('⚠️ ADVERTENCIA: tempReservations no está en localStorage antes de redirigir'); alert('⚠️ Error al guardar las reservas.\n\nPor favor, intenta nuevamente.'); return; } console.log('✅ Verificación final: tempReservations presente en localStorage'); // Redirigir a MercadoPago location.href = data.init_point; } catch (e) { console.error('❌ Error al procesar pago:', e); // Verificar si es un error de red if (e.name === 'TypeError' && e.message.includes('fetch')) { alert('❌ Error de conexión. Verifica tu internet e intenta nuevamente.'); } else { alert('❌ Error al procesar pago. Por favor, intenta nuevamente.'); } } } // Constants for the application const COUNTRY_CODE = '52'; // Mexico country code (also defined as MEXICO_COUNTRY_CODE earlier) const DEFAULT_NAME = 'Sin nombre'; const DEFAULT_PHONE = 'Sin teléfono'; const MAX_CAPACITY = 5; // Maximum number of people per time slot // Constants for Firebase initialization const MAX_FIREBASE_INIT_ATTEMPTS = 20; const FIREBASE_POLLING_INTERVAL_MS = 500; // DETECTOR DE RETORNO MEJORADO - Maneja callback de Mercado Pago // NUEVO FLUJO: Guardar todas las reservas en Firestore al regresar del pago // Flag para evitar ejecución múltiple let paymentReturnProcessed = false; async function detectarRetorno() { // Evitar doble procesamiento (DOMContentLoaded + load) if (paymentReturnProcessed) { console.log('⏭️ Retorno ya procesado, saltando...'); return; } // Check if localStorage is available if (!window.localStorage) { console.error('❌ localStorage no está disponible en este navegador'); alert('⚠️ Tu navegador no soporta almacenamiento local.\n\nNo se pueden recuperar tus reservas.\n\nPor favor, contacta con soporte con tu comprobante de pago.'); return; } // Usar la función helper para verificar si es un retorno de pago if (!isPaymentReturnFromMercadoPago()) { return; // No hay parámetros de pago, no hacer nada } const params = new URLSearchParams(location.search); // Verificar estados de pago de MercadoPago const status = params.get('status'); const paymentId = params.get('payment_id') || params.get('collection_id'); const hasSuccessParam = params.has('success') && params.get('success') === '1'; // Determinar el estado del pago const isApproved = status === 'approved' || hasSuccessParam; const isPending = status === 'pending' || status === 'in_process'; const isRejected = status === 'rejected' || (params.has('error') && params.get('error') === '1'); // Solo procesar si hay parámetros de pago if (!isApproved && !isPending && !isRejected && !paymentId) { return; // No hay parámetros de pago, no hacer nada } // Marcar como procesado para evitar doble ejecución paymentReturnProcessed = true; console.log('💳 Retorno de Mercado Pago detectado:', { status, paymentId, isApproved, isPending, isRejected }); // Manejar pago rechazado if (isRejected) { console.log('❌ Pago rechazado'); history.replaceState({}, document.title, location.pathname); alert('❌ El pago fue rechazado.\n\nPor favor, verifica tu método de pago e intenta nuevamente.\n\nTus reservas temporales se mantienen.'); return; } // Manejar pago pendiente if (isPending) { console.log('⏳ Pago pendiente'); history.replaceState({}, document.title, location.pathname); alert('⏳ Tu pago está siendo procesado.\n\nTe notificaremos cuando se confirme.\n\nNo cierres esta ventana.'); // No limpiar localStorage, ya que el pago aún no está confirmado return; } // Solo continuar si el pago fue aprobado if (!isApproved) { console.log('⚠️ Estado de pago no reconocido:', status); history.replaceState({}, document.title, location.pathname); return; } console.log('✅ Pago aprobado, procesando reservas...'); // 1. Limpiar URL inmediatamente (quitar parámetros de pago) history.replaceState({}, document.title, location.pathname); console.log('🧹 URL limpiada'); // 2. Recuperar reservas temporales de localStorage console.log('🔍 Verificando localStorage...'); console.log('📦 Claves en localStorage:', Object.keys(localStorage)); const tempReservationsStr = localStorage.getItem('tempReservations'); if (!tempReservationsStr) { console.error('❌ No hay reservas temporales en localStorage'); console.log('📋 Estado de localStorage:', { tempReservations: localStorage.getItem('tempReservations'), tempPlanClasses: localStorage.getItem('tempPlanClasses'), tempPlanPrice: localStorage.getItem('tempPlanPrice'), userNombre: localStorage.getItem('userNombre'), userTelefono: localStorage.getItem('userTelefono') }); alert('⚠️ No se encontraron reservas pendientes.\n\nEsto puede suceder si:\n- El navegador bloqueó el almacenamiento\n- Se limpió el caché\n- Se usó modo incógnito\n\nPor favor, selecciona un plan nuevamente o contacta con soporte si ya pagaste.'); return; } console.log('✅ Reservas encontradas en localStorage:', tempReservationsStr.substring(0, 100) + '...'); let tempData; try { tempData = JSON.parse(tempReservationsStr); } catch (e) { console.error('❌ Error al parsear reservas temporales:', e); alert('❌ Error al recuperar reservas. Por favor, contacta con soporte.'); return; } // Validar estructura de datos const { reservations, userInfo } = tempData; if (!reservations || !Array.isArray(reservations) || reservations.length === 0) { console.error('❌ Estructura de reservas inválida:', tempData); alert('❌ Error: Reservas no válidas. Por favor, contacta con soporte.'); return; } const nombre = userInfo?.nombre || localStorage.getItem('userNombre') || 'Cliente'; const telefono = userInfo?.telefono || localStorage.getItem('userTelefono') || ''; if (!telefono) { console.error('❌ Falta el teléfono del usuario'); alert('❌ Error: Información del usuario incompleta.\n\nPor favor, contacta con soporte con tu comprobante de pago.'); return; } console.log(`📋 Reservas recuperadas: ${reservations.length} clases para ${nombre} (${telefono})`); // 3. Mostrar mensaje de éxito inicial alert(`¡Pago recibido, ${nombre}!\n\nGuardando tus ${reservations.length} clases...`); // 4. Esperar a que Firebase esté listo const waitForFirebase = async () => { let attempts = 0; while (attempts < MAX_FIREBASE_INIT_ATTEMPTS) { if (window.firebaseReady && window.db && typeof window.saveReservationToFirestore === 'function') { return true; } await new Promise(resolve => setTimeout(resolve, FIREBASE_POLLING_INTERVAL_MS)); attempts++; console.log(`⏳ Esperando Firebase... (${attempts}/${MAX_FIREBASE_INIT_ATTEMPTS})`); } return false; }; const firebaseReady = await waitForFirebase(); if (!firebaseReady) { console.error('❌ Firebase no está listo'); // NO limpiar localStorage para que el usuario pueda reintentar alert('❌ Error: Sistema de reservas no disponible.\n\nTus reservas están guardadas temporalmente.\nPor favor, recarga la página para reintentar o contacta con soporte.'); return; } console.log('✅ Firebase listo, guardando reservas...'); // 5. Guardar todas las reservas en Firestore const savedReservations = []; const failedReservations = []; for (let i = 0; i < reservations.length; i++) { const reservation = reservations[i]; try { console.log(`💾 Guardando reserva ${i + 1}/${reservations.length}...`, reservation); // Validar datos de la reserva antes de guardar if (!reservation.nombre || !reservation.telefono || !reservation.fechaHora) { console.error(`❌ Reserva ${i + 1} tiene datos incompletos:`, reservation); failedReservations.push(reservation); continue; } const reservaId = await window.saveReservationToFirestore( reservation.nombre, reservation.telefono, reservation.fechaHora, // ISO format: YYYY-MM-DDTHH:mm:ss '' // notas vacías por ahora ); savedReservations.push(reservaId); console.log(`✅ Reserva ${i + 1} guardada con ID:`, reservaId); } catch (error) { console.error(`❌ Error al guardar reserva ${i + 1}:`, error); failedReservations.push(reservation); } } // 6. Solo limpiar datos temporales si se guardó al menos una reserva if (savedReservations.length > 0) { localStorage.removeItem('tempReservations'); localStorage.removeItem('tempPlanClasses'); localStorage.removeItem('tempPlanPrice'); localStorage.removeItem('planClases'); localStorage.removeItem('planPrecio'); console.log('🧹 Datos temporales limpiados'); } // 7. Mostrar resultado if (savedReservations.length === reservations.length) { // Todas guardadas exitosamente // Show custom success message with WhatsApp button showPaymentSuccessWithWhatsApp(nombre, telefono, savedReservations.length); // 8. Recargar "Mis Clases" si el usuario está logueado if (telefono && typeof window.loadUserClasses === 'function') { console.log('📚 Recargando "Mis Clases"...'); try { await window.loadUserClasses(telefono); } catch (e) { console.error('Error al cargar clases del usuario:', e); } } // 9. Recargar panel admin si está disponible if (window.isAdmin && typeof window.loadReservationsFromFirestore === 'function') { console.log('👨‍💼 Recargando panel admin...'); try { await window.loadReservationsFromFirestore(); } catch (e) { console.error('Error al recargar panel admin:', e); } } // 10. Scroll a "Mis Clases" si está visible const myClassesSection = document.getElementById('my-classes-section'); if (myClassesSection && myClassesSection.style.display !== 'none') { setTimeout(() => { myClassesSection.scrollIntoView({ behavior: 'smooth' }); }, 1000); } } else if (savedReservations.length > 0) { // Algunas guardadas alert(`⚠️ Pago recibido\n\n${savedReservations.length} de ${reservations.length} clases guardadas correctamente.\n\n${failedReservations.length} clases fallaron.\n\nPor favor, contacta con soporte.`); } else { // Ninguna guardada - NO limpiar localStorage alert('❌ Error al guardar las reservas.\n\nTu pago fue recibido pero hubo un error técnico.\n\nPor favor, recarga la página para reintentar o contacta con soporte inmediatamente.'); } } /** * Show payment success message with WhatsApp button * @param {string} nombre - User's name * @param {string} telefono - User's phone number * @param {number} classCount - Number of classes */ function showPaymentSuccessWithWhatsApp(nombre, telefono, classCount) { // Create custom modal const modal = document.createElement('div'); modal.id = 'payment-success-modal'; modal.style.cssText = ` position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.7); display: flex; justify-content: center; align-items: center; z-index: 10000; animation: fadeIn 0.3s ease-out; `; const modalContent = document.createElement('div'); modalContent.style.cssText = ` background: linear-gradient(135deg, #ffffff 0%, #EFE9E1 100%); border-radius: 25px; padding: 40px 30px; max-width: 500px; width: 90%; text-align: center; box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3); animation: fadeInUp 0.4s ease-out; `; modalContent.innerHTML = ` <div style="font-size: 4rem; margin-bottom: 20px;">✅</div> <script src="script.js" onerror="console.error('Error loading script.js - Registration functionality may not work')"></script> </body></html>